<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FirstProject2: include/x3d/x3d_Core.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FirstProject2
   &#160;<span id="projectnumber">12.12.2011</span>
   </div>
   <div id="projectbrief">Framework</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/x3d/x3d_Core.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef __LERSTAD__</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#import &quot;GUI/GUI.h&quot;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#else</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#include &quot;GUI/GUI.h&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#endif</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span>
<a name="l00007"></a>00007 <span class="preprocessor">#ifdef __LERSTAD__</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#import &quot;ZLIBDeflate/ZLIBDeflate.h&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#else</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#include &quot;ZLIBDeflate/ZLIBDeflate.h&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#endif</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#ifdef __LERSTAD__</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#import &quot;LMedia/LMedia.h&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#else</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#include &quot;LMedia/LMedia.h&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#endif</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#ifdef __LERSTAD__</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#import &quot;Networking/Networking.h&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#else</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#include &quot;Networking/Networking.h&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#endif</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef X3DEXT</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define X3DEXT DECLSPEC_DLLIMPORT</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#ifndef X3D_COMPONENT_GROUPING</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_GROUPING 1</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor">#ifndef X3D_COMPONENT_LIGHTING</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_LIGHTING 1</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="preprocessor">#ifndef X3D_COMPONENT_NAVIGATION</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_NAVIGATION 1</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef X3D_COMPONENT_ENVIRONMENTAL_EFFECTS</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_ENVIRONMENTAL_EFFECTS 1</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span>
<a name="l00045"></a>00045 <span class="preprocessor">#ifndef X3D_COMPONENT_INTERPOLATION</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_INTERPOLATION 1</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#ifndef X3D_COMPONENT_SOUND</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_SOUND 1</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="preprocessor">#ifndef X3D_COMPONENT_TEXTURING</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_TEXTURING 1</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <span class="preprocessor">#ifndef X3D_COMPONENT_TEXT</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_TEXT 1</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="preprocessor">#ifndef X3D_COMPONENT_GEOMETRY2D</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_GEOMETRY2D 1</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>
<a name="l00065"></a>00065 <span class="preprocessor">#ifndef X3D_COMPONENT_GEOMETRY3D</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_GEOMETRY3D 1</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>
<a name="l00069"></a>00069 <span class="preprocessor">#ifndef X3D_COMPONENT_LAYOUT</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_LAYOUT 1</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>
<a name="l00073"></a>00073 <span class="preprocessor">#ifndef X3D_COMPONENT_LAYERING</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_LAYERING 1</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00077"></a>00077 <span class="preprocessor">#ifndef X3D_COMPONENT_PROGRAMMABLE_SHADERS</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_PROGRAMMABLE_SHADERS 1</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>
<a name="l00081"></a>00081 <span class="preprocessor">#ifndef X3D_COMPONENT_RIGIDBODY</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_RIGIDBODY 1</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 <span class="preprocessor">#ifndef X3D_COMPONENT_BIFS</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="preprocessor">#define X3D_COMPONENT_BIFS 1</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span>
<a name="l00089"></a>00089 <span class="preprocessor">#include &quot;Quaternion.h&quot;</span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="keyword">namespace </span>System
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093 <span class="keyword">namespace </span>Graphics
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095         <span class="keyword">class </span>Graphics3D;
<a name="l00096"></a>00096         <span class="keyword">class </span>GraphicsO_3D;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="preprocessor">#define TEXTURES_MAX    32</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="keyword">struct </span>__DECLSPEC_ALIGN_16__ Vertex
<a name="l00101"></a>00101 {
<a name="l00102"></a>00102 <span class="keyword">public</span>:
<a name="l00103"></a>00103         gm::vector3f p;
<a name="l00104"></a>00104         <span class="keywordtype">float</span> w;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="comment">//      vector4f win;</span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108         gm::vector4f texcoord[TEXTURES_MAX];
<a name="l00109"></a>00109         <span class="comment">/*</span>
<a name="l00110"></a>00110 <span class="comment">        vector4f ambient;</span>
<a name="l00111"></a>00111 <span class="comment">        vector4f emission;</span>
<a name="l00112"></a>00112 <span class="comment">        vector4f diffuse;</span>
<a name="l00113"></a>00113 <span class="comment">        vector4f specular;</span>
<a name="l00114"></a>00114 <span class="comment">        */</span>
<a name="l00115"></a>00115         gm::vector4f color;
<a name="l00116"></a>00116         gm::vector4f secondarycolor;
<a name="l00117"></a>00117         gm::vector3f normal;
<a name="l00118"></a>00118         gm::vector2f m_winxy;
<a name="l00119"></a>00119         <span class="keywordtype">float</span> m_winz;
<a name="l00120"></a>00120 <span class="comment">//      float m_shininess;</span>
<a name="l00121"></a>00121         <span class="keywordtype">float</span> m_fog_f;
<a name="l00122"></a>00122         <span class="keywordtype">float</span> w_inv;
<a name="l00123"></a>00123 <span class="comment">//      bool lightingEnabled;</span>
<a name="l00124"></a>00124         uint m_viewclipmask;
<a name="l00125"></a>00125 };
<a name="l00126"></a>00126 }
<a name="l00127"></a>00127 }
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="preprocessor">#ifdef __LERSTAD__</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a>00131 <span class="keyword">struct </span>X3DAUDIO_LISTENER
<a name="l00132"></a>00132 {
<a name="l00133"></a>00133     <span class="keywordtype">float</span> OrientFront[3]; <span class="comment">// orientation of front direction, used only for matrix and delay calculations or listeners with cones for matrix, LPF (both direct and reverb paths), and reverb calculations, must be normalized when used</span>
<a name="l00134"></a>00134         <span class="keywordtype">float</span> OrientTop[3];   <span class="comment">// orientation of top direction, used only for matrix and delay calculations, must be orthonormal with OrientFront when used</span>
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     <span class="keywordtype">float</span> Position[3]; <span class="comment">// position in user-defined world units, does not affect Velocity</span>
<a name="l00137"></a>00137     <span class="keywordtype">float</span> Velocity[3]; <span class="comment">// velocity vector in user-defined world units/second, used only for doppler calculations, does not affect Position</span>
<a name="l00138"></a>00138 
<a name="l00139"></a>00139     <span class="keywordtype">void</span>* pCone; <span class="comment">// sound cone, used only for matrix, LPF (both direct and reverb paths), and reverb calculations, NULL specifies omnidirectionality</span>
<a name="l00140"></a>00140 };
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="preprocessor">#endif</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144 <span class="preprocessor">#ifndef __LERSTAD__</span>
<a name="l00145"></a>00145 <span class="preprocessor"></span><span class="preprocessor">#undef new</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00147"></a>00147 <span class="preprocessor">#define new _new</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="keyword">namespace </span>System
<a name="l00151"></a>00151 {
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <span class="comment">/*</span>
<a name="l00154"></a>00154 <span class="comment">class UndoManager</span>
<a name="l00155"></a>00155 <span class="comment">{</span>
<a name="l00156"></a>00156 <span class="comment">public:</span>
<a name="l00157"></a>00157 <span class="comment"></span>
<a name="l00158"></a>00158 <span class="comment">};</span>
<a name="l00159"></a>00159 <span class="comment"></span>
<a name="l00160"></a>00160 <span class="comment">class UndoUnit : public DependencyObject</span>
<a name="l00161"></a>00161 <span class="comment">{</span>
<a name="l00162"></a>00162 <span class="comment">public:</span>
<a name="l00163"></a>00163 <span class="comment"></span>
<a name="l00164"></a>00164 <span class="comment">};</span>
<a name="l00165"></a>00165 <span class="comment"></span>
<a name="l00166"></a>00166 <span class="comment">interface IUndoableObject</span>
<a name="l00167"></a>00167 <span class="comment">{</span>
<a name="l00168"></a>00168 <span class="comment">};</span>
<a name="l00169"></a>00169 <span class="comment">*/</span>
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00172"></a>00172 IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> gm::vector2&lt;T&gt;&amp; v)
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174         stream &lt;&lt; v[0] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[1];
<a name="l00175"></a>00175         <span class="keywordflow">return</span> stream;
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00179"></a>00179 IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> gm::vector3&lt;T&gt;&amp; v)
<a name="l00180"></a>00180 {
<a name="l00181"></a>00181         stream &lt;&lt; v[0] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[1] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[2];
<a name="l00182"></a>00182         <span class="keywordflow">return</span> stream;
<a name="l00183"></a>00183 }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00186"></a>00186 IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> gm::vector4&lt;T&gt;&amp; v)
<a name="l00187"></a>00187 {
<a name="l00188"></a>00188         stream &lt;&lt; v[0] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[1] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[2] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v[3];
<a name="l00189"></a>00189         <span class="keywordflow">return</span> stream;
<a name="l00190"></a>00190 }
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> AxisAngle&amp; v)
<a name="l00193"></a>00193 {
<a name="l00194"></a>00194         stream &lt;&lt; v.m_axis[0] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v.m_axis[1] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v.m_axis[2] &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v.m_angle;
<a name="l00195"></a>00195         <span class="keywordflow">return</span> stream;
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;int&gt;&amp; v)
<a name="l00199"></a>00199 {
<a name="l00200"></a>00200         ASSERT(0);
<a name="l00201"></a>00201         <span class="keywordflow">return</span> stream;
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;float&gt;&amp; v)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206         ASSERT(0);
<a name="l00207"></a>00207         <span class="keywordflow">return</span> stream;
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;double&gt;&amp; v)
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212         ASSERT(0);
<a name="l00213"></a>00213         <span class="keywordflow">return</span> stream;
<a name="l00214"></a>00214 }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;String&gt;&amp; v)
<a name="l00217"></a>00217 {
<a name="l00218"></a>00218         ASSERT(0);
<a name="l00219"></a>00219         <span class="keywordflow">return</span> stream;
<a name="l00220"></a>00220 }
<a name="l00221"></a>00221 
<a name="l00223"></a>00223 <span class="keyword">namespace </span>x3d
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 <span class="comment">// Forward Declarations</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="keyword">interface </span>X3DMetadataObject;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 <span class="keyword">class </span>SFRotation;
<a name="l00231"></a>00231 <span class="keyword">class </span>SFBool;
<a name="l00232"></a>00232 <span class="keyword">class </span>SFFloat;
<a name="l00233"></a>00233 <span class="keyword">class </span>SFVec3f;
<a name="l00234"></a>00234 <span class="keyword">class </span>SFColor;
<a name="l00235"></a>00235 <span class="keyword">class </span>SFString;
<a name="l00236"></a>00236 <span class="keyword">class </span>MFFloat;
<a name="l00237"></a>00237 <span class="keyword">class </span>MFNode;
<a name="l00238"></a>00238 <span class="keyword">class </span>MFString;
<a name="l00239"></a>00239 <span class="keyword">class </span>MFURL;
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="keyword">class </span>Route;
<a name="l00242"></a>00242 <span class="keyword">class </span>NodeType;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="keyword">class </span>X3DScene;
<a name="l00245"></a>00245 <span class="keyword">class </span>X3DNode;
<a name="l00246"></a>00246 <span class="keyword">class </span>X3DField;
<a name="l00247"></a>00247 <span class="keyword">class </span>X3DShaderNode;
<a name="l00248"></a>00248 <span class="keyword">class </span>X3DColorNode;
<a name="l00249"></a>00249 <span class="keyword">class </span>X3DCoordinateNode;
<a name="l00250"></a>00250 <span class="keyword">class </span>X3DNormalNode;
<a name="l00251"></a>00251 <span class="keyword">class </span>X3DTextureCoordinateNode;
<a name="l00252"></a>00252 <span class="keyword">class </span>X3DPrototypeInstance;
<a name="l00253"></a>00253 <span class="keyword">class </span>X3DSoundSourceNode;
<a name="l00254"></a>00254 <span class="keyword">class </span>Sound;
<a name="l00255"></a>00255 <span class="keyword">class </span>QuantizationParameter;
<a name="l00256"></a>00256 <span class="keyword">class </span>Group;
<a name="l00257"></a>00257 <span class="keyword">class </span>TouchSensor;
<a name="l00258"></a>00258 <span class="keyword">class </span>Shape;
<a name="l00259"></a>00259 <span class="keyword">class </span>Sphere;
<a name="l00260"></a>00260 <span class="keyword">class </span>Cone;
<a name="l00261"></a>00261 <span class="keyword">class </span>Box;
<a name="l00262"></a>00262 <span class="keyword">class </span>CollisionCollection;
<a name="l00263"></a>00263 <span class="keyword">class </span>ShaderProgram;
<a name="l00264"></a>00264 <span class="keyword">class </span>Viewpoint;
<a name="l00265"></a>00265 <span class="keyword">class </span>NavigationInfo;
<a name="l00266"></a>00266 <span class="keyword">class </span>Fog;
<a name="l00267"></a>00267 <span class="keyword">class </span>Contact;
<a name="l00268"></a>00268 <span class="keyword">class </span>RigidBody;
<a name="l00269"></a>00269 <span class="keyword">class </span>X3DRigidJointNode;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">// Layering component</span>
<a name="l00272"></a>00272 <span class="keyword">class </span>X3DLayerNode;
<a name="l00273"></a>00273 <span class="keyword">class </span>Layer;
<a name="l00274"></a>00274 <span class="keyword">class </span>LayerSet;
<a name="l00275"></a>00275 
<a name="l00277"></a>00277 <span class="keyword">typedef</span> gm::vector2f Vec2f;
<a name="l00278"></a>00278 <span class="keyword">typedef</span> gm::vector3f Vec3f;
<a name="l00279"></a>00279 <span class="keyword">typedef</span> gm::vector4f Vec4f;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 <span class="keyword">typedef</span> gm::vector2d Vec2d;
<a name="l00282"></a>00282 <span class="keyword">typedef</span> gm::vector3d Vec3d;
<a name="l00283"></a>00283 <span class="keyword">typedef</span> gm::vector4d Vec4d;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 <span class="keyword">typedef</span> gm::vector3f float3;
<a name="l00286"></a>00286 <span class="keyword">typedef</span> gm::vector4f float4;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="keyword">typedef</span> AxisAngle Rotation;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 }
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;x3d::Vec2f&gt;&amp; v)
<a name="l00293"></a>00293 {
<a name="l00294"></a>00294         ASSERT(0);
<a name="l00295"></a>00295         <span class="keywordflow">return</span> stream;
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;x3d::Vec3f&gt;&amp; v)
<a name="l00299"></a>00299 {
<a name="l00300"></a>00300         ASSERT(0);
<a name="l00301"></a>00301         <span class="keywordflow">return</span> stream;
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <span class="keyword">inline</span> IO::TextWriter&amp; WriteToStream(IO::TextWriter&amp; stream, <span class="keyword">const</span> vector&lt;x3d::X3DNode*&gt;&amp; v)
<a name="l00305"></a>00305 {
<a name="l00306"></a>00306         ASSERT(0);
<a name="l00307"></a>00307         <span class="keywordflow">return</span> stream;
<a name="l00308"></a>00308 }
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 <span class="keyword">namespace </span>x3d
<a name="l00311"></a>00311 {
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 <span class="keyword">class </span>X3DEXT BoundingBox
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315 <span class="keyword">public</span>:
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         CTOR BoundingBox() : m_size(Vec3f(-1,-1,-1))
<a name="l00318"></a>00318         {
<a name="l00319"></a>00319         }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321         CTOR BoundingBox(Vec3f center, Vec3f size) : m_center(center), m_size(size)
<a name="l00322"></a>00322         {
<a name="l00323"></a>00323         }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325         <span class="keywordtype">bool</span> IsValid()<span class="keyword"> const</span>
<a name="l00326"></a>00326 <span class="keyword">        </span>{
<a name="l00327"></a>00327                 <span class="keywordflow">return</span> m_size[0] &gt;= 0;<span class="comment">// &amp;&amp; m_size[1] &gt;= 0 &amp;&amp; m_size[2] &gt;= 0;</span>
<a name="l00328"></a>00328         }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         Vec3f m_center;
<a name="l00331"></a>00331         Vec3f m_size;
<a name="l00332"></a>00332 };
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="preprocessor">#define X3DSFIELD(type, name, uname)    \</span>
<a name="l00335"></a>00335 <span class="preprocessor">private:        \</span>
<a name="l00336"></a>00336 <span class="preprocessor">        type* m_##name; \</span>
<a name="l00337"></a>00337 <span class="preprocessor">public: \</span>
<a name="l00338"></a>00338 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt;* get_##name##FieldDef();   \</span>
<a name="l00339"></a>00339 <span class="preprocessor">        type::value_t get##uname()      \</span>
<a name="l00340"></a>00340 <span class="preprocessor">        {       \</span>
<a name="l00341"></a>00341 <span class="preprocessor">                return m_##name-&gt;getValue();    \</span>
<a name="l00342"></a>00342 <span class="preprocessor">        }       \</span>
<a name="l00343"></a>00343 <span class="preprocessor">        \</span>
<a name="l00344"></a>00344 <span class="preprocessor">        void set##uname(type::value_t value)    \</span>
<a name="l00345"></a>00345 <span class="preprocessor">        {       \</span>
<a name="l00346"></a>00346 <span class="preprocessor">                m_##name-&gt;setValue(value);      \</span>
<a name="l00347"></a>00347 <span class="preprocessor">        }       \</span>
<a name="l00348"></a>00348 <span class="preprocessor">        \</span>
<a name="l00349"></a>00349 <span class="preprocessor">        type* get##uname##Field()       \</span>
<a name="l00350"></a>00350 <span class="preprocessor">        {       \</span>
<a name="l00351"></a>00351 <span class="preprocessor">                return m_##name;        \</span>
<a name="l00352"></a>00352 <span class="preprocessor">        }</span>
<a name="l00353"></a>00353 <span class="preprocessor"></span>
<a name="l00354"></a>00354 <span class="preprocessor">#define X3DSFIELD_ABSTRACT(type, name, uname)   \</span>
<a name="l00355"></a>00355 <span class="preprocessor">public: \</span>
<a name="l00356"></a>00356 <span class="preprocessor">        virtual type::value_t get##uname() abstract; \</span>
<a name="l00357"></a>00357 <span class="preprocessor">        virtual void set##uname(type::value_t value) abstract; \</span>
<a name="l00358"></a>00358 <span class="preprocessor">        virtual type* get##uname##Field() abstract;</span>
<a name="l00359"></a>00359 <span class="preprocessor"></span>
<a name="l00360"></a>00360 <span class="preprocessor">#define X3DSFIELD_OVERRIDE(type, name, uname)   \</span>
<a name="l00361"></a>00361 <span class="preprocessor">private:        \</span>
<a name="l00362"></a>00362 <span class="preprocessor">        type* m_##name; \</span>
<a name="l00363"></a>00363 <span class="preprocessor">public: \</span>
<a name="l00364"></a>00364 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt;* get_##name##FieldDef();   \</span>
<a name="l00365"></a>00365 <span class="preprocessor">        virtual type::value_t get##uname()  override \</span>
<a name="l00366"></a>00366 <span class="preprocessor">        {       \</span>
<a name="l00367"></a>00367 <span class="preprocessor">                return m_##name-&gt;getValue();    \</span>
<a name="l00368"></a>00368 <span class="preprocessor">        }       \</span>
<a name="l00369"></a>00369 <span class="preprocessor">        \</span>
<a name="l00370"></a>00370 <span class="preprocessor">        virtual void set##uname(type::value_t value) override \</span>
<a name="l00371"></a>00371 <span class="preprocessor">        {       \</span>
<a name="l00372"></a>00372 <span class="preprocessor">                m_##name-&gt;setValue(value);      \</span>
<a name="l00373"></a>00373 <span class="preprocessor">        }       \</span>
<a name="l00374"></a>00374 <span class="preprocessor">        \</span>
<a name="l00375"></a>00375 <span class="preprocessor">        virtual type* get##uname##Field() override      \</span>
<a name="l00376"></a>00376 <span class="preprocessor">        {       \</span>
<a name="l00377"></a>00377 <span class="preprocessor">                return m_##name;        \</span>
<a name="l00378"></a>00378 <span class="preprocessor">        }</span>
<a name="l00379"></a>00379 <span class="preprocessor"></span>
<a name="l00380"></a>00380 <span class="preprocessor">#define X3DMFIELD(type, name, uname)    \</span>
<a name="l00381"></a>00381 <span class="preprocessor">private:        \</span>
<a name="l00382"></a>00382 <span class="preprocessor">        type* m_##name; \</span>
<a name="l00383"></a>00383 <span class="preprocessor">public: \</span>
<a name="l00384"></a>00384 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt;* get_##name##FieldDef();   \</span>
<a name="l00385"></a>00385 <span class="preprocessor">        type* get##uname##Field()       \</span>
<a name="l00386"></a>00386 <span class="preprocessor">        {       \</span>
<a name="l00387"></a>00387 <span class="preprocessor">                return m_##name;        \</span>
<a name="l00388"></a>00388 <span class="preprocessor">        }</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>
<a name="l00390"></a>00390 <span class="preprocessor">#define X3DMFIELD_ABSTRACT(type, name, uname)   \</span>
<a name="l00391"></a>00391 <span class="preprocessor">public: \</span>
<a name="l00392"></a>00392 <span class="preprocessor">        virtual type* get##uname##Field() abstract;</span>
<a name="l00393"></a>00393 <span class="preprocessor"></span>
<a name="l00394"></a>00394 <span class="preprocessor">#define X3DMFIELD_OVERRIDE(type, name, uname)   \</span>
<a name="l00395"></a>00395 <span class="preprocessor">private:        \</span>
<a name="l00396"></a>00396 <span class="preprocessor">        type* m_##name; \</span>
<a name="l00397"></a>00397 <span class="preprocessor">public: \</span>
<a name="l00398"></a>00398 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt;* get_##name##FieldDef();   \</span>
<a name="l00399"></a>00399 <span class="preprocessor">        virtual type* get##uname##Field() override      \</span>
<a name="l00400"></a>00400 <span class="preprocessor">        {       \</span>
<a name="l00401"></a>00401 <span class="preprocessor">                return m_##name;        \</span>
<a name="l00402"></a>00402 <span class="preprocessor">        }</span>
<a name="l00403"></a>00403 <span class="preprocessor"></span>
<a name="l00404"></a>00404 <span class="preprocessor">#define IMP_X3DFIELD0(classname, type, fieldname, access)       \</span>
<a name="l00405"></a>00405 <span class="preprocessor">TypedX3DFieldDefinition&lt;type&gt;* classname::get_##fieldname##FieldDef()   \</span>
<a name="l00406"></a>00406 <span class="preprocessor">{       \</span>
<a name="l00407"></a>00407 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt; fieldname(#fieldname, SAIFieldAccess_##inputOutput, offsetof(classname, m_##fieldname));   \</span>
<a name="l00408"></a>00408 <span class="preprocessor">        return &amp;fieldname;      \</span>
<a name="l00409"></a>00409 <span class="preprocessor">}</span>
<a name="l00410"></a>00410 <span class="preprocessor"></span>
<a name="l00411"></a>00411 <span class="preprocessor">#define IMP_X3DFIELD1(classname, type, fieldname, access, defaultvalue) \</span>
<a name="l00412"></a>00412 <span class="preprocessor">TypedX3DFieldDefinition&lt;type&gt;* classname::get_##fieldname##FieldDef()   \</span>
<a name="l00413"></a>00413 <span class="preprocessor">{       \</span>
<a name="l00414"></a>00414 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt; fieldname(#fieldname, SAIFieldAccess_##inputOutput, offsetof(classname, m_##fieldname), defaultvalue);     \</span>
<a name="l00415"></a>00415 <span class="preprocessor">        return &amp;fieldname;      \</span>
<a name="l00416"></a>00416 <span class="preprocessor">}</span>
<a name="l00417"></a>00417 <span class="preprocessor"></span>
<a name="l00418"></a>00418 <span class="preprocessor">#define IMP_X3DFIELD3(classname, type, fieldname, access, defaultvalue, minvalue, maxvalue)     \</span>
<a name="l00419"></a>00419 <span class="preprocessor">TypedX3DFieldDefinition&lt;type&gt;* classname::get_##fieldname##FieldDef()   \</span>
<a name="l00420"></a>00420 <span class="preprocessor">{       \</span>
<a name="l00421"></a>00421 <span class="preprocessor">        static TypedX3DFieldDefinition&lt;type&gt; fieldname(#fieldname, SAIFieldAccess_##inputOutput, offsetof(classname, m_##fieldname), defaultvalue, minvalue, maxvalue); \</span>
<a name="l00422"></a>00422 <span class="preprocessor">        return &amp;fieldname;      \</span>
<a name="l00423"></a>00423 <span class="preprocessor">}</span>
<a name="l00424"></a>00424 <span class="preprocessor"></span>
<a name="l00425"></a>00425 <span class="preprocessor">#define X3DNODE_ABSTRACT(name, basename)        \</span>
<a name="l00426"></a>00426 <span class="preprocessor">        static NodeType* GetNodeType(); typedef basename baseClass;</span>
<a name="l00427"></a>00427 <span class="preprocessor"></span>
<a name="l00428"></a>00428 <span class="preprocessor">#define X3DNODE(name, basename) \</span>
<a name="l00429"></a>00429 <span class="preprocessor">        private: static NodeType* nodeType;     \</span>
<a name="l00430"></a>00430 <span class="preprocessor">        public: static NodeType* GetNodeType(); typedef basename baseClass;</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span>
<a name="l00432"></a>00432 <span class="keyword">enum</span> FieldType
<a name="l00433"></a>00433 {
<a name="l00434"></a>00434         FieldType_SFBool = 1,
<a name="l00435"></a>00435         FieldType_MFBool = 2,
<a name="l00436"></a>00436 
<a name="l00437"></a>00437         FieldType_MFInt32 = 3,
<a name="l00438"></a>00438         FieldType_SFInt32 = 4,
<a name="l00439"></a>00439 
<a name="l00440"></a>00440         FieldType_SFFloat = 7,
<a name="l00441"></a>00441         FieldType_MFFloat = 8,
<a name="l00442"></a>00442 
<a name="l00443"></a>00443         FieldType_SFDouble = 9,
<a name="l00444"></a>00444         FieldType_MFDouble = 10,
<a name="l00445"></a>00445 
<a name="l00446"></a>00446         FieldType_SFTime = 11,
<a name="l00447"></a>00447         FieldType_MFTime = 12,
<a name="l00448"></a>00448 
<a name="l00449"></a>00449         FieldType_SFNode = 13,
<a name="l00450"></a>00450         FieldType_MFNode = 14,
<a name="l00451"></a>00451 
<a name="l00452"></a>00452         FieldType_SFVec2f = 15,
<a name="l00453"></a>00453         FieldType_MFVec2f = 16,
<a name="l00454"></a>00454 
<a name="l00455"></a>00455         FieldType_SFVec2d = 17,
<a name="l00456"></a>00456         FieldType_MFVec2d = 18,
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         FieldType_SFVec3f = 19,
<a name="l00459"></a>00459         FieldType_MFVec3f = 20,
<a name="l00460"></a>00460 
<a name="l00461"></a>00461         FieldType_SFVec3d = 21,
<a name="l00462"></a>00462         FieldType_MFVec3d = 22,
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         FieldType_MFRotation = 23,
<a name="l00465"></a>00465         FieldType_SFRotation = 24,
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         FieldType_MFColor = 25,
<a name="l00468"></a>00468         FieldType_SFColor = 26,
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         FieldType_MFColorRGBA = 27,
<a name="l00471"></a>00471         FieldType_SFColorRGBA = 28,
<a name="l00472"></a>00472 
<a name="l00473"></a>00473         FieldType_SFImage = 29,
<a name="l00474"></a>00474         FieldType_MFImage = 30,
<a name="l00475"></a>00475 
<a name="l00476"></a>00476         FieldType_SFString = 31,
<a name="l00477"></a>00477         FieldType_MFString = 32,
<a name="l00478"></a>00478 
<a name="l00479"></a>00479         <span class="comment">// ??</span>
<a name="l00480"></a>00480         FieldType_SFURL = 35,
<a name="l00481"></a>00481         FieldType_MFURL = 36,
<a name="l00482"></a>00482 
<a name="l00483"></a>00483         FieldType_SFMatrix3f,
<a name="l00484"></a>00484         FieldType_MFMatrix3f,
<a name="l00485"></a>00485 
<a name="l00486"></a>00486         FieldType_SFMatrix4f,
<a name="l00487"></a>00487         FieldType_MFMatrix4f,
<a name="l00488"></a>00488 
<a name="l00489"></a>00489         FieldType_SFVec4f,
<a name="l00490"></a>00490         FieldType_MFVec4f,
<a name="l00491"></a>00491 
<a name="l00492"></a>00492         FieldType_SFVec4d,
<a name="l00493"></a>00493         FieldType_MFVec4d,
<a name="l00494"></a>00494 };
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 X3DEXT String ToString(FieldType fieldtype);
<a name="l00497"></a>00497 X3DEXT <span class="keywordtype">bool</span> IsSField(FieldType fieldType);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 <span class="keyword">inline</span> <span class="keywordtype">bool</span> IsMField(FieldType fieldType)
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501         <span class="keywordflow">return</span> !IsSField(fieldType);
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 <span class="keyword">enum</span> SAIFieldAccess
<a name="l00505"></a>00505 {
<a name="l00506"></a>00506         SAIFieldAccess_initializeOnly   = 0,
<a name="l00507"></a>00507         SAIFieldAccess_inputOnly        = 1,
<a name="l00508"></a>00508         SAIFieldAccess_outputOnly       = 2,
<a name="l00509"></a>00509         SAIFieldAccess_inputOutput      = 3
<a name="l00510"></a>00510 };
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 <span class="keyword">enum</span> EncodingID
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514         Encoding_Scripted = 1,
<a name="l00515"></a>00515         Encoding_ASCII = 2,
<a name="l00516"></a>00516         Encoding_VRML = 3,
<a name="l00517"></a>00517         Encoding_XML = 4,
<a name="l00518"></a>00518         Encoding_Binary = 5,
<a name="l00519"></a>00519         Encoding_BIFS = 6
<a name="l00520"></a>00520 };
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="keyword">interface </span>IX3DFieldDefinition
<a name="l00523"></a>00523 {
<a name="l00524"></a>00524         <span class="keyword">virtual</span> String getName() abstract;
<a name="l00525"></a>00525         virtual SAIFieldAccess getAccessType() abstract;
<a name="l00526"></a>00526         virtual FieldType getFieldType() abstract;
<a name="l00527"></a>00527         virtual String getFieldTypeString() abstract;
<a name="l00528"></a>00528 };
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 }       <span class="comment">// x3d</span>
<a name="l00531"></a>00531 }       <span class="comment">// System</span>
<a name="l00532"></a>00532 
<a name="l00533"></a>00533 <span class="preprocessor">#include &quot;X3DFieldDefinition.h&quot;</span>
<a name="l00534"></a>00534 <span class="preprocessor"></span>
<a name="l00535"></a>00535 <span class="keyword">namespace </span>System
<a name="l00536"></a>00536 {
<a name="l00537"></a>00537 <span class="keyword">namespace </span>x3d
<a name="l00538"></a>00538 {
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 <span class="keyword">class </span>X3DEXT X3DFieldDefinitions : <span class="keyword">public</span> Object
<a name="l00541"></a>00541 {
<a name="l00542"></a>00542 <span class="keyword">public</span>:
<a name="l00543"></a>00543         CTOR X3DFieldDefinitions(uint count)
<a name="l00544"></a>00544         {
<a name="l00545"></a>00545                 m_items.reserve(count);
<a name="l00546"></a>00546         }
<a name="l00547"></a>00547 
<a name="l00548"></a>00548         CTOR X3DFieldDefinitions(X3DFieldDefinition** fields, uint count)
<a name="l00549"></a>00549         {
<a name="l00550"></a>00550                 m_items.reserve(count);
<a name="l00551"></a>00551                 <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; count; ++i)
<a name="l00552"></a>00552                 {
<a name="l00553"></a>00553                         m_items.push_back(fields[i]);
<a name="l00554"></a>00554                 }
<a name="l00555"></a>00555         <span class="comment">//      m_items.insert(m_items.begin(), fields, fields+count);</span>
<a name="l00556"></a>00556         }
<a name="l00557"></a>00557 
<a name="l00558"></a>00558         <span class="keywordtype">size_t</span> get_length()<span class="keyword"> const</span>
<a name="l00559"></a>00559 <span class="keyword">        </span>{
<a name="l00560"></a>00560                 <span class="keywordflow">return</span> m_items.GetSize();
<a name="l00561"></a>00561         }
<a name="l00562"></a>00562 
<a name="l00563"></a>00563         X3DFieldDefinition* item(<span class="keywordtype">size_t</span> index)<span class="keyword"> const</span>
<a name="l00564"></a>00564 <span class="keyword">        </span>{
<a name="l00565"></a>00565                 <span class="keywordflow">if</span> (index &lt; m_items.GetSize())
<a name="l00566"></a>00566                 {
<a name="l00567"></a>00567                         <span class="keywordflow">return</span> m_items[index];
<a name="l00568"></a>00568                 }
<a name="l00569"></a>00569                 <span class="keywordflow">else</span>
<a name="l00570"></a>00570                 {
<a name="l00571"></a>00571                         <span class="keywordflow">return</span> NULL;
<a name="l00572"></a>00572                 }
<a name="l00573"></a>00573         }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 <span class="keyword">protected</span>:
<a name="l00576"></a>00576 
<a name="l00577"></a>00577         <span class="keyword">friend</span> <span class="keyword">class </span>NodeType;
<a name="l00578"></a>00578 
<a name="l00579"></a>00579         vector&lt;X3DFieldDefinition*&gt; m_items;
<a name="l00580"></a>00580 };
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 }       <span class="comment">// x3d</span>
<a name="l00583"></a>00583 }       <span class="comment">// System</span>
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 <span class="preprocessor">#include &quot;NodeType.h&quot;</span>
<a name="l00586"></a>00586 <span class="preprocessor">#include &quot;X3DField.h&quot;</span>
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 <span class="keyword">namespace </span>System
<a name="l00589"></a>00589 {
<a name="l00590"></a>00590 <span class="keyword">namespace </span>x3d
<a name="l00591"></a>00591 {
<a name="l00592"></a>00592 
<a name="l00593"></a>00593 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keywordtype">int</span> fieldType&gt;
<a name="l00594"></a>00594 <span class="keyword">class </span>SFField : <span class="keyword">public</span> X3DField
<a name="l00595"></a>00595 {
<a name="l00596"></a>00596 <span class="keyword">public</span>:
<a name="l00597"></a>00597 
<a name="l00598"></a>00598         <span class="keyword">typedef</span> SFField&lt;T, fieldType&gt; t;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600         <span class="keyword">virtual</span> FieldType getFieldType()<span class="keyword"> const override</span>
<a name="l00601"></a>00601 <span class="keyword">        </span>{
<a name="l00602"></a>00602                 <span class="keywordflow">return</span> fieldType;
<a name="l00603"></a>00603         }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605         <span class="keyword">virtual</span> <span class="keywordtype">void</span> CopyFrom(X3DField* pFrom)<span class="keyword"> override</span>
<a name="l00606"></a>00606 <span class="keyword">        </span>{
<a name="l00607"></a>00607                 m_value = <span class="keyword">static_cast&lt;</span>t*<span class="keyword">&gt;</span>(pFrom)-&gt;m_value;
<a name="l00608"></a>00608         }
<a name="l00609"></a>00609 
<a name="l00610"></a>00610         T getValue() <span class="keyword">const</span> throw()
<a name="l00611"></a>00611         {
<a name="l00612"></a>00612                 <span class="keywordflow">return</span> m_value;
<a name="l00613"></a>00613         }
<a name="l00614"></a>00614         <span class="keywordtype">void</span> setValue(T newVal)
<a name="l00615"></a>00615         {
<a name="l00616"></a>00616                 m_value = newVal;
<a name="l00617"></a>00617                 <span class="comment">// TODO event</span>
<a name="l00618"></a>00618         }
<a name="l00619"></a>00619 
<a name="l00620"></a>00620 <span class="keyword">public</span>:
<a name="l00621"></a>00621 
<a name="l00622"></a>00622         T m_value;
<a name="l00623"></a>00623 };
<a name="l00624"></a>00624 
<a name="l00625"></a>00625 <span class="keyword">class </span>X3DEXT X3DArrayField : <span class="keyword">public</span> X3DField
<a name="l00626"></a>00626 {
<a name="l00627"></a>00627 <span class="keyword">public</span>:
<a name="l00628"></a>00628 
<a name="l00629"></a>00629         CTOR X3DArrayField(X3DNode* ownerNode) : X3DField(ownerNode)
<a name="l00630"></a>00630         {
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633         CTOR X3DArrayField(X3DFieldDefinition* def, X3DNode* ownerNode) : X3DField(def, ownerNode)
<a name="l00634"></a>00634         {
<a name="l00635"></a>00635         }
<a name="l00636"></a>00636          
<a name="l00637"></a>00637         <span class="keyword">virtual</span> IO::TextWriter&amp; WriteValueToStream(IO::TextWriter&amp; stream)<span class="keyword"> override</span>
<a name="l00638"></a>00638 <span class="keyword">        </span>{
<a name="l00639"></a>00639                 stream &lt;&lt; <span class="charliteral">&#39;[&#39;</span>;
<a name="l00640"></a>00640                 WriteValuesToStream(stream);
<a name="l00641"></a>00641                 stream &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;
<a name="l00642"></a>00642                 <span class="keywordflow">return</span> stream;
<a name="l00643"></a>00643         }
<a name="l00644"></a>00644 
<a name="l00645"></a>00645         <span class="keyword">virtual</span> IO::TextWriter&amp; WriteValuesToStream(IO::TextWriter&amp; stream)
<a name="l00646"></a>00646         {
<a name="l00647"></a>00647                 ASSERT(0);
<a name="l00648"></a>00648                 <span class="keywordflow">return</span> stream;
<a name="l00649"></a>00649         }
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> get_size() <span class="keyword">const</span> throw() = 0;
<a name="l00652"></a>00652 };
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="preprocessor">#if 0</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span><span class="keyword">class </span>Face
<a name="l00656"></a>00656 {
<a name="l00657"></a>00657 <span class="keyword">public</span>:
<a name="l00658"></a>00658 
<a name="l00659"></a>00659         CTOR Face(<span class="keywordtype">int</span> v0, <span class="keywordtype">int</span> v1, <span class="keywordtype">int</span> v2);
<a name="l00660"></a>00660 
<a name="l00661"></a>00661         <span class="keywordtype">void</span> CalcMinZ(LDraw::Vertex* vertices);
<a name="l00662"></a>00662 
<a name="l00663"></a>00663         <span class="keywordtype">int</span> vertexIndex[3];
<a name="l00664"></a>00664 
<a name="l00665"></a>00665         <span class="keywordtype">float</span> minz;
<a name="l00666"></a>00666         <span class="keywordtype">float</span> maxz;
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <span class="comment">/*</span>
<a name="l00669"></a>00669 <span class="comment">        inline LDraw::vector3f CalcMidpoint() const</span>
<a name="l00670"></a>00670 <span class="comment">        {</span>
<a name="l00671"></a>00671 <span class="comment">                float x = (vertex[0][0] + vertex[1][0] + vertex[2][0]) / 3;</span>
<a name="l00672"></a>00672 <span class="comment">                float y = (vertex[0][1] + vertex[1][1] + vertex[2][1]) / 3;</span>
<a name="l00673"></a>00673 <span class="comment">                float z = (vertex[0][2] + vertex[1][2] + vertex[2][2]) / 3;</span>
<a name="l00674"></a>00674 <span class="comment">        }</span>
<a name="l00675"></a>00675 <span class="comment">        */</span>
<a name="l00676"></a>00676 };
<a name="l00677"></a>00677 <span class="preprocessor">#endif</span>
<a name="l00678"></a>00678 <span class="preprocessor"></span>
<a name="l00679"></a>00679 <span class="keyword">class </span>X3DEXT X3DDrawContext : <span class="keyword">public</span> Object
<a name="l00680"></a>00680 {
<a name="l00681"></a>00681 <span class="keyword">public</span>:
<a name="l00682"></a>00682         CTOR X3DDrawContext();
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         Gui::ImmediateRenderContext* m_renderContext;
<a name="l00685"></a>00685 <span class="comment">//      LDraw::GraphicsO_3D* m_pGraphics3D;     // TODO remove</span>
<a name="l00686"></a>00686 <span class="comment">//      LDraw::Brush* m_pBrush;</span>
<a name="l00687"></a>00687         vector&lt;TouchSensor*&gt; m_namedNodes;
<a name="l00688"></a>00688         X3DShaderNode* m_shader;
<a name="l00689"></a>00689 
<a name="l00690"></a>00690         X3DAUDIO_LISTENER m_listener;
<a name="l00691"></a>00691 
<a name="l00692"></a>00692 <span class="comment">//      vector&lt;uint&gt; m_indices;</span>
<a name="l00693"></a>00693 
<a name="l00694"></a>00694         stack&lt;gm::matrix4f&gt; m_transformStack;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696         gm::matrix4f m_model;
<a name="l00697"></a>00697         gm::matrix4f m_view;
<a name="l00698"></a>00698         gm::matrix4f m_projection;
<a name="l00699"></a>00699         gm::matrix4f m_modelView;
<a name="l00700"></a>00700         gm::matrix4f m_modelViewProjection;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702         gm::matrix4f m_modelI;
<a name="l00703"></a>00703         gm::matrix4f m_viewI;
<a name="l00704"></a>00704         gm::matrix4f m_projectionI;
<a name="l00705"></a>00705         gm::matrix4f m_modelViewI;
<a name="l00706"></a>00706         gm::matrix4f m_modelViewProjectionI;
<a name="l00707"></a>00707 
<a name="l00708"></a>00708         gm::matrix4f m_modelT;
<a name="l00709"></a>00709         gm::matrix4f m_viewT;
<a name="l00710"></a>00710         gm::matrix4f m_projectionT;
<a name="l00711"></a>00711         gm::matrix4f m_modelViewT;
<a name="l00712"></a>00712         gm::matrix4f m_modelViewProjectionT;
<a name="l00713"></a>00713 
<a name="l00714"></a>00714         gm::matrix4f m_modelIT;
<a name="l00715"></a>00715         gm::matrix4f m_viewIT;
<a name="l00716"></a>00716         gm::matrix4f m_projectionIT;
<a name="l00717"></a>00717         gm::matrix4f m_modelViewIT;
<a name="l00718"></a>00718         gm::matrix4f m_modelViewProjectionIT;
<a name="l00719"></a>00719 
<a name="l00720"></a>00720         <span class="keywordtype">float</span> m_zNear;
<a name="l00721"></a>00721         <span class="keywordtype">float</span> m_zFar;
<a name="l00722"></a>00722 
<a name="l00723"></a>00723         <span class="keywordtype">int</span> m_nName;
<a name="l00724"></a>00724 
<a name="l00725"></a>00725         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_glFixedVertexShader;
<a name="l00726"></a>00726         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_glFixedFragmentShader;
<a name="l00727"></a>00727 
<a name="l00728"></a>00728         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_glFixedShaderProgram;
<a name="l00729"></a>00729 
<a name="l00730"></a>00730         <span class="keywordtype">float</span> m_clientWidth;
<a name="l00731"></a>00731         <span class="keywordtype">float</span> m_clientHeight;
<a name="l00732"></a>00732 };
<a name="l00733"></a>00733 
<a name="l00734"></a>00734 <span class="keyword">interface </span>ISizeable3f
<a name="l00735"></a>00735 {
<a name="l00736"></a>00736         <span class="keyword">virtual</span> Vec3f getSize3f() abstract;
<a name="l00737"></a>00737         virtual <span class="keywordtype">void</span> setSize3f(Vec3f size) abstract;
<a name="l00738"></a>00738 };
<a name="l00739"></a>00739 
<a name="l00740"></a>00740 interface IPositionable2f
<a name="l00741"></a>00741 {
<a name="l00742"></a>00742         <span class="keyword">virtual</span> Vec2f getPosition2f() abstract;
<a name="l00743"></a>00743         virtual <span class="keywordtype">void</span> setPosition2f(Vec2f position) abstract;
<a name="l00744"></a>00744 };
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 interface IPositionable3f : public IPositionable2f
<a name="l00747"></a>00747 {
<a name="l00748"></a>00748         <span class="keyword">virtual</span> Vec3f getPosition3f() abstract;
<a name="l00749"></a>00749         virtual <span class="keywordtype">void</span> setPosition3f(Vec3f position) abstract;
<a name="l00750"></a>00750 
<a name="l00751"></a>00751         virtual Vec2f getPosition2f()<span class="keyword"> override</span>
<a name="l00752"></a>00752 <span class="keyword">        </span>{
<a name="l00753"></a>00753                 Vec3f v = getPosition3f();
<a name="l00754"></a>00754                 <span class="keywordflow">return</span> Vec2f(v[0], v[1]);
<a name="l00755"></a>00755         }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setPosition2f(Vec2f position)<span class="keyword"> override</span>
<a name="l00758"></a>00758 <span class="keyword">        </span>{
<a name="l00759"></a>00759                 setPosition3f(position);
<a name="l00760"></a>00760         }
<a name="l00761"></a>00761 };
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 <span class="keyword">interface </span>IHitTest
<a name="l00764"></a>00764 {
<a name="l00765"></a>00765         <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnHit(X3DNode* node, <span class="keywordtype">int</span> type, Vec3f v) <span class="keyword">abstract</span>;
<a name="l00766"></a>00766         <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnHit(X3DNode* node, <span class="keywordtype">int</span> type, Vec3f localpoint, <span class="keywordtype">int</span> axis, <span class="keywordtype">double</span> t) <span class="keyword">abstract</span>;
<a name="l00767"></a>00767 };
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 <span class="keyword">class </span>RenderImplImpl
<a name="l00770"></a>00770 {
<a name="l00771"></a>00771 <span class="keyword">public</span>:
<a name="l00772"></a>00772         <span class="keyword">virtual</span> <span class="keywordtype">void</span> PreDraw(X3DDrawContext* pDC)
<a name="l00773"></a>00773         {
<a name="l00774"></a>00774         }
<a name="l00775"></a>00775 
<a name="l00776"></a>00776         <span class="keyword">virtual</span> <span class="keywordtype">void</span> Draw(X3DDrawContext* pDC)
<a name="l00777"></a>00777         {
<a name="l00778"></a>00778         }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780         <span class="keyword">virtual</span> <span class="keywordtype">void</span> DrawGlobalLights(X3DDrawContext* pDC)
<a name="l00781"></a>00781         {
<a name="l00782"></a>00782         }
<a name="l00783"></a>00783 
<a name="l00784"></a>00784         <span class="keyword">virtual</span> <span class="keywordtype">void</span> DrawOverlay(X3DDrawContext* pDC)
<a name="l00785"></a>00785         {
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787 
<a name="l00788"></a>00788         <span class="keyword">virtual</span> <span class="keywordtype">int</span> HitTest(<span class="keyword">const</span> D3DXMATRIX&amp; projection, <span class="keyword">const</span> D3DXMATRIX&amp; view, <span class="keyword">const</span> D3DXMATRIX&amp; model, <span class="keyword">const</span> D3D10_VIEWPORT&amp; vp, <span class="keywordtype">int</span> type, Vec2f mousepos, Vec3f pos, IHitTest* hitTest)
<a name="l00789"></a>00789         {
<a name="l00790"></a>00790                 <span class="keywordflow">return</span> 0;
<a name="l00791"></a>00791         }
<a name="l00792"></a>00792 
<a name="l00793"></a>00793         <span class="keyword">virtual</span> <span class="keywordtype">int</span> Moveability()
<a name="l00794"></a>00794         {
<a name="l00795"></a>00795                 <span class="comment">// 0=none, 2=2d,3=3d</span>
<a name="l00796"></a>00796                 <span class="keywordflow">return</span> 0;
<a name="l00797"></a>00797         }
<a name="l00798"></a>00798 
<a name="l00799"></a>00799         <span class="keyword">virtual</span> <span class="keywordtype">int</span> Resizability()
<a name="l00800"></a>00800         {
<a name="l00801"></a>00801                 <span class="comment">// 0=none,1=uniform,2=2d,3=3d</span>
<a name="l00802"></a>00802                 <span class="keywordflow">return</span> 0;
<a name="l00803"></a>00803         }
<a name="l00804"></a>00804 
<a name="l00805"></a>00805         <span class="keyword">virtual</span> D3DXMATRIX GetTransform()
<a name="l00806"></a>00806         {
<a name="l00807"></a>00807                 <span class="keywordflow">return</span> D3DXMATRIX(
<a name="l00808"></a>00808                         1, 0, 0, 0,
<a name="l00809"></a>00809                         0, 1, 0, 0,
<a name="l00810"></a>00810                         0, 0, 1, 0,
<a name="l00811"></a>00811                         0, 0, 0, 1);
<a name="l00812"></a>00812         }
<a name="l00813"></a>00813 };
<a name="l00814"></a>00814 
<a name="l00815"></a>00815 <span class="keyword">class </span>X3DEXT X3DException : <span class="keyword">public</span> Exception
<a name="l00816"></a>00816 {
<a name="l00817"></a>00817 <span class="keyword">public</span>:
<a name="l00818"></a>00818         CTOR X3DException(StringIn str) : Exception(str)
<a name="l00819"></a>00819         {
<a name="l00820"></a>00820         }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822         _EXCEPTION
<a name="l00823"></a>00823 };
<a name="l00824"></a>00824 
<a name="l00825"></a>00825 <span class="keyword">class </span>X3DEXT InvalidNodeException : <span class="keyword">public</span> X3DException
<a name="l00826"></a>00826 {
<a name="l00827"></a>00827 <span class="keyword">public</span>:
<a name="l00828"></a>00828         CTOR InvalidNodeException(StringIn nodename) : X3DException(<span class="stringliteral">&quot;Invalid node &quot;</span> + nodename), m_nodename(nodename)
<a name="l00829"></a>00829         {
<a name="l00830"></a>00830         }
<a name="l00831"></a>00831 
<a name="l00832"></a>00832         String m_nodename;
<a name="l00833"></a>00833 
<a name="l00834"></a>00834         _EXCEPTION
<a name="l00835"></a>00835 };
<a name="l00836"></a>00836 
<a name="l00837"></a>00837 <span class="keyword">interface </span>X3DTextureNodeImplImpl
<a name="l00838"></a>00838 {
<a name="l00839"></a>00839         <span class="keyword">virtual</span> <span class="keywordtype">void</span> CreateTexture(Graphics::RenderTarget* rt) = 0;
<a name="l00840"></a>00840         <span class="keyword">virtual</span> <span class="keywordtype">void</span> ApplyTexture(Gui::ImmediateRenderContext* pGraphics) = 0;
<a name="l00841"></a>00841 
<a name="l00842"></a>00842         <span class="keyword">virtual</span> <span class="keywordtype">int</span> GetWidth() = 0;
<a name="l00843"></a>00843         <span class="keyword">virtual</span> <span class="keywordtype">int</span> GetHeight() = 0;
<a name="l00844"></a>00844 <span class="comment">//      virtual void* GetData() = 0;</span>
<a name="l00845"></a>00845 };
<a name="l00846"></a>00846 
<a name="l00847"></a>00847 <span class="keyword">interface </span>IGeometryRender
<a name="l00848"></a>00848 {
<a name="l00849"></a>00849         <span class="keyword">virtual</span> <span class="keywordtype">void</span> Draw(X3DDrawContext* pDC, X3DTextureNodeImplImpl* pTextureNode) = 0;
<a name="l00850"></a>00850 <span class="comment">//      virtual bool Within(const LDraw::vector3f&amp; start, const LDraw::vector3f&amp; end, LDraw::vector3f&amp; plane_normal, LDraw::vector3f&amp; pt, double&amp; d) = 0;</span>
<a name="l00851"></a>00851 };
<a name="l00852"></a>00852 
<a name="l00853"></a>00853 <span class="keyword">class </span>X3DEXT X3DBoundedImplImpl
<a name="l00854"></a>00854 {
<a name="l00855"></a>00855 <span class="keyword">public</span>:
<a name="l00856"></a>00856         <span class="keywordtype">void</span> DrawBoundingBox(X3DDrawContext* pDC, BoundingBox bbox);
<a name="l00857"></a>00857         <span class="keyword">virtual</span> BoundingBox CalculateBoundingBox(gm::matrix4f&amp; transform) = 0;
<a name="l00858"></a>00858 
<a name="l00859"></a>00859         BoundingBox m_computedBBox;
<a name="l00860"></a>00860 
<a name="l00861"></a>00861         <span class="keywordtype">bool</span> m_computedBBoxValid;
<a name="l00862"></a>00862 };
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 }       <span class="comment">// x3d</span>
<a name="l00865"></a>00865 }       <span class="comment">// System</span>
<a name="l00866"></a>00866 
<a name="l00867"></a>00867 <span class="preprocessor">#include &quot;X3DMetadataObject.h&quot;</span>
<a name="l00868"></a>00868 <span class="preprocessor">#include &quot;SFNode.h&quot;</span>
<a name="l00869"></a>00869 <span class="preprocessor">#include &quot;X3DNode.h&quot;</span>
<a name="l00870"></a>00870 <span class="preprocessor">#include &quot;SFBool.h&quot;</span>
<a name="l00871"></a>00871 <span class="preprocessor">#include &quot;SFInt32.h&quot;</span>
<a name="l00872"></a>00872 <span class="preprocessor">#include &quot;SFFloat.h&quot;</span>
<a name="l00873"></a>00873 <span class="preprocessor">#include &quot;SFDouble.h&quot;</span>
<a name="l00874"></a>00874 <span class="preprocessor">#include &quot;SFVec2f.h&quot;</span>
<a name="l00875"></a>00875 <span class="preprocessor">#include &quot;SFVec3f.h&quot;</span>
<a name="l00876"></a>00876 <span class="preprocessor">#include &quot;SFVec4f.h&quot;</span>
<a name="l00877"></a>00877 <span class="preprocessor">#include &quot;SFRotation.h&quot;</span>
<a name="l00878"></a>00878 <span class="preprocessor">#include &quot;SFTime.h&quot;</span>
<a name="l00879"></a>00879 <span class="preprocessor">#include &quot;SFColor.h&quot;</span>
<a name="l00880"></a>00880 <span class="preprocessor">#include &quot;SFColorRGBA.h&quot;</span>
<a name="l00881"></a>00881 <span class="preprocessor">#include &quot;SFString.h&quot;</span>
<a name="l00882"></a>00882 <span class="preprocessor">#include &quot;SFImage.h&quot;</span>
<a name="l00883"></a>00883 <span class="preprocessor">#include &quot;MFBool.h&quot;</span>
<a name="l00884"></a>00884 <span class="preprocessor">#include &quot;MFInt32.h&quot;</span>
<a name="l00885"></a>00885 <span class="preprocessor">#include &quot;MFNode.h&quot;</span>
<a name="l00886"></a>00886 <span class="preprocessor">#include &quot;MFVec2f.h&quot;</span>
<a name="l00887"></a>00887 <span class="preprocessor">#include &quot;MFVec3f.h&quot;</span>
<a name="l00888"></a>00888 <span class="preprocessor">#include &quot;MFFloat.h&quot;</span>
<a name="l00889"></a>00889 <span class="preprocessor">#include &quot;MFDouble.h&quot;</span>
<a name="l00890"></a>00890 <span class="preprocessor">#include &quot;MFRotation.h&quot;</span>
<a name="l00891"></a>00891 <span class="preprocessor">#include &quot;MFColor.h&quot;</span>
<a name="l00892"></a>00892 <span class="preprocessor">#include &quot;MFString.h&quot;</span>
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 <span class="keyword">namespace </span>System
<a name="l00895"></a>00895 {
<a name="l00896"></a>00896 <span class="keyword">namespace </span>x3d
<a name="l00897"></a>00897 {
<a name="l00898"></a>00898 
<a name="l00899"></a>00899 <span class="preprocessor">#ifndef __LERSTAD__</span>
<a name="l00900"></a>00900 <span class="preprocessor"></span>
<a name="l00901"></a>00901 <span class="keyword">template</span>&lt;&gt; IO::TextWriter&amp; TypedX3DFieldDefinition&lt;SFInt32&gt;::WriteDomain(IO::TextWriter&amp; stream)
<a name="l00902"></a>00902 {
<a name="l00903"></a>00903         <span class="keywordflow">if</span> (m_minValue == INT_MIN)
<a name="l00904"></a>00904                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00905"></a>00905         <span class="keywordflow">else</span>
<a name="l00906"></a>00906                 stream &lt;&lt; m_minValue;
<a name="l00907"></a>00907 
<a name="l00908"></a>00908         stream &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00909"></a>00909 
<a name="l00910"></a>00910         <span class="keywordflow">if</span> (m_maxValue == INT_MAX)
<a name="l00911"></a>00911                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00912"></a>00912         <span class="keywordflow">else</span>
<a name="l00913"></a>00913                 stream &lt;&lt; m_maxValue;
<a name="l00914"></a>00914 
<a name="l00915"></a>00915         <span class="keywordflow">return</span> stream;
<a name="l00916"></a>00916 }
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 <span class="keyword">template</span>&lt;&gt; IO::TextWriter&amp; TypedX3DFieldDefinition&lt;SFFloat&gt;::WriteDomain(IO::TextWriter&amp; stream)
<a name="l00919"></a>00919 {
<a name="l00920"></a>00920         <span class="keywordflow">if</span> (m_minValue == M_PI)
<a name="l00921"></a>00921                 stream &lt;&lt; <span class="stringliteral">&quot;&quot;</span>;
<a name="l00922"></a>00922         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_minValue == -M_PI)
<a name="l00923"></a>00923                 stream &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;
<a name="l00924"></a>00924         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_minValue == FLT_MIN)
<a name="l00925"></a>00925                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00926"></a>00926         <span class="keywordflow">else</span>
<a name="l00927"></a>00927                 stream &lt;&lt; m_minValue;
<a name="l00928"></a>00928 
<a name="l00929"></a>00929         stream &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00930"></a>00930 
<a name="l00931"></a>00931         <span class="keywordflow">if</span> (m_maxValue == M_PI)
<a name="l00932"></a>00932                 stream &lt;&lt; <span class="stringliteral">&quot;&quot;</span>;
<a name="l00933"></a>00933         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_maxValue == FLT_MAX)
<a name="l00934"></a>00934                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00935"></a>00935         <span class="keywordflow">else</span>
<a name="l00936"></a>00936                 stream &lt;&lt; m_maxValue;
<a name="l00937"></a>00937 
<a name="l00938"></a>00938         <span class="keywordflow">return</span> stream;
<a name="l00939"></a>00939 }
<a name="l00940"></a>00940 
<a name="l00941"></a>00941 <span class="keyword">template</span>&lt;&gt; IO::TextWriter&amp; TypedX3DFieldDefinition&lt;SFDouble&gt;::WriteDomain(IO::TextWriter&amp; stream)
<a name="l00942"></a>00942 {
<a name="l00943"></a>00943         <span class="keywordflow">if</span> (m_minValue == M_PI)
<a name="l00944"></a>00944                 stream &lt;&lt; <span class="stringliteral">&quot;&quot;</span>;
<a name="l00945"></a>00945         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_minValue == -M_PI)
<a name="l00946"></a>00946                 stream &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;
<a name="l00947"></a>00947         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_minValue == DBL_MIN)
<a name="l00948"></a>00948                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00949"></a>00949         <span class="keywordflow">else</span>
<a name="l00950"></a>00950                 stream &lt;&lt; m_minValue;
<a name="l00951"></a>00951 
<a name="l00952"></a>00952         stream &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;
<a name="l00953"></a>00953 
<a name="l00954"></a>00954         <span class="keywordflow">if</span> (m_maxValue == M_PI)
<a name="l00955"></a>00955                 stream &lt;&lt; <span class="stringliteral">&quot;&quot;</span>;
<a name="l00956"></a>00956         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_maxValue == -M_PI)
<a name="l00957"></a>00957                 stream &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;
<a name="l00958"></a>00958         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_maxValue == DBL_MAX)
<a name="l00959"></a>00959                 stream &lt;&lt; <span class="stringliteral">&quot;_&quot;</span>;
<a name="l00960"></a>00960         <span class="keywordflow">else</span>
<a name="l00961"></a>00961                 stream &lt;&lt; m_maxValue;
<a name="l00962"></a>00962 
<a name="l00963"></a>00963         <span class="keywordflow">return</span> stream;
<a name="l00964"></a>00964 }
<a name="l00965"></a>00965 
<a name="l00966"></a>00966 <span class="preprocessor">#endif</span>
<a name="l00967"></a>00967 <span class="preprocessor"></span>
<a name="l00968"></a>00968 <span class="comment">/*</span>
<a name="l00969"></a>00969 <span class="comment">class X3DGeometryNode;</span>
<a name="l00970"></a>00970 <span class="comment"></span>
<a name="l00971"></a>00971 <span class="comment">template&lt;&gt;</span>
<a name="l00972"></a>00972 <span class="comment">Stream&amp; TypedX3DFieldDefinition&lt;TypedSFNode&lt;X3DGeometryNode*&gt; &gt;::WriteDomain(Stream&amp; stream)</span>
<a name="l00973"></a>00973 <span class="comment">{</span>
<a name="l00974"></a>00974 <span class="comment">        stream &lt;&lt; &quot;Geometry&quot;;</span>
<a name="l00975"></a>00975 <span class="comment">        return stream;</span>
<a name="l00976"></a>00976 <span class="comment">}</span>
<a name="l00977"></a>00977 <span class="comment">*/</span>
<a name="l00978"></a>00978 
<a name="l00979"></a>00979 <span class="keyword">interface </span>X3DBoundedObject
<a name="l00980"></a>00980 {
<a name="l00981"></a>00981         X3DSFIELD_ABSTRACT(SFVec3f, bboxCenter, BBoxCenter)
<a name="l00982"></a>00982         X3DSFIELD_ABSTRACT(SFVec3f, bboxSize, BBoxSize)
<a name="l00983"></a>00983 
<a name="l00984"></a>00984         virtual BoundingBox CalculateBoundingBox(gm::matrix4f&amp; transform) abstract;
<a name="l00985"></a>00985 
<a name="l00986"></a>00986 <span class="comment">//      virtual SFVec3f* getBBoxCenterField() abstract;</span>
<a name="l00987"></a>00987 <span class="comment">//      virtual SFVec3f* getBBoxSizeField() abstract;</span>
<a name="l00988"></a>00988 };
<a name="l00989"></a>00989 
<a name="l00990"></a>00990 }
<a name="l00991"></a>00991 }
<a name="l00992"></a>00992 
<a name="l00993"></a>00993 <span class="preprocessor">#include &quot;X3DGroupingNode.h&quot;</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span><span class="preprocessor">#include &quot;X3DInfoNode.h&quot;</span>
<a name="l00995"></a>00995 <span class="preprocessor">#include &quot;X3DUrlObject.h&quot;</span>
<a name="l00996"></a>00996 <span class="preprocessor">#include &quot;X3DBindableNode.h&quot;</span>
<a name="l00997"></a>00997 <span class="preprocessor">#include &quot;X3DGeometryNode.h&quot;</span>
<a name="l00998"></a>00998 <span class="preprocessor">#include &quot;X3DViewpointNode.h&quot;</span>
<a name="l00999"></a>00999 <span class="preprocessor">#include &quot;Sphere.h&quot;</span>
<a name="l01000"></a>01000 <span class="preprocessor">#include &quot;X3DBackgroundNode.h&quot;</span>
<a name="l01001"></a>01001 
<a name="l01002"></a>01002 <span class="keyword">namespace </span>System
<a name="l01003"></a>01003 {
<a name="l01004"></a>01004 <span class="keyword">namespace </span>x3d
<a name="l01005"></a>01005 {
<a name="l01006"></a>01006 
<a name="l01007"></a>01007 <span class="keyword">class </span>X3DEXT X3DTimeDependentNode : <span class="keyword">public</span> X3DChildNode
<a name="l01008"></a>01008 {
<a name="l01009"></a>01009 <span class="keyword">protected</span>:
<a name="l01010"></a>01010 
<a name="l01011"></a>01011         CTOR X3DTimeDependentNode(NodeType* nodeType);
<a name="l01012"></a>01012 
<a name="l01013"></a>01013         X3DNODE_ABSTRACT(X3DTimeDependentNode, X3DChildNode)
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 protected:
<a name="l01016"></a>01016 
<a name="l01017"></a>01017         X3DSFIELD(SFTime, startTime, StartTime)
<a name="l01018"></a>01018         X3DSFIELD(SFTime, stopTime, StopTime)
<a name="l01019"></a>01019         X3DSFIELD(SFTime, pauseTime, PauseTime)
<a name="l01020"></a>01020         X3DSFIELD(SFTime, resumeTime, ResumeTime)
<a name="l01021"></a>01021         X3DSFIELD(SFTime, elapsedTime, ElapsedTime)
<a name="l01022"></a>01022         X3DSFIELD(SFBool, loop, Loop)
<a name="l01023"></a>01023         X3DSFIELD(SFBool, isActive, IsActive)
<a name="l01024"></a>01024 
<a name="l01025"></a>01025         <span class="comment">/*</span>
<a name="l01026"></a>01026 <span class="comment">        SFTime* m_startTime;</span>
<a name="l01027"></a>01027 <span class="comment">        SFTime* m_stopTime;</span>
<a name="l01028"></a>01028 <span class="comment">        SFTime* m_pauseTime;</span>
<a name="l01029"></a>01029 <span class="comment">        SFTime* m_resumeTime;</span>
<a name="l01030"></a>01030 <span class="comment">        SFTime* m_elapsedTime;</span>
<a name="l01031"></a>01031 <span class="comment">        SFBool* m_loop;</span>
<a name="l01032"></a>01032 <span class="comment">        SFBool* m_isActive;</span>
<a name="l01033"></a>01033 <span class="comment">        */</span>
<a name="l01034"></a>01034 };
<a name="l01035"></a>01035 
<a name="l01036"></a>01036 class X3DEXT X3DSensorNode : public X3DChildNode
<a name="l01037"></a>01037 {
<a name="l01038"></a>01038 <span class="keyword">protected</span>:
<a name="l01039"></a>01039         CTOR X3DSensorNode(NodeType* nodeType) : X3DChildNode(nodeType)
<a name="l01040"></a>01040         {
<a name="l01041"></a>01041         }
<a name="l01042"></a>01042 };
<a name="l01043"></a>01043 
<a name="l01044"></a>01044 <span class="keyword">class </span>X3DEXT X3DPointingDeviceSensorNode : <span class="keyword">public</span> X3DSensorNode
<a name="l01045"></a>01045 {
<a name="l01046"></a>01046 <span class="keyword">protected</span>:
<a name="l01047"></a>01047         CTOR X3DPointingDeviceSensorNode(NodeType* nodeType) : X3DSensorNode(nodeType)
<a name="l01048"></a>01048         {
<a name="l01049"></a>01049         }
<a name="l01050"></a>01050 };
<a name="l01051"></a>01051 
<a name="l01052"></a>01052 <span class="keyword">class </span>X3DEXT X3DTouchSensorNode : <span class="keyword">public</span> X3DPointingDeviceSensorNode
<a name="l01053"></a>01053 {
<a name="l01054"></a>01054 <span class="keyword">protected</span>:
<a name="l01055"></a>01055         CTOR X3DTouchSensorNode(NodeType* nodeType) : X3DPointingDeviceSensorNode(nodeType)
<a name="l01056"></a>01056         {
<a name="l01057"></a>01057         }
<a name="l01058"></a>01058 };
<a name="l01059"></a>01059 
<a name="l01060"></a>01060 <span class="keyword">class </span>X3DEXT X3DEnvironmentalSensorNode : <span class="keyword">public</span> X3DSensorNode
<a name="l01061"></a>01061 {
<a name="l01062"></a>01062 <span class="keyword">protected</span>:
<a name="l01063"></a>01063         CTOR X3DEnvironmentalSensorNode(NodeType* nodeType) : X3DSensorNode(nodeType)
<a name="l01064"></a>01064         {
<a name="l01065"></a>01065         }
<a name="l01066"></a>01066 };
<a name="l01067"></a>01067 
<a name="l01068"></a>01068 <span class="keyword">class </span>X3DEXT X3DSoundNode : <span class="keyword">public</span> X3DChildNode
<a name="l01069"></a>01069 {
<a name="l01070"></a>01070 <span class="keyword">protected</span>:
<a name="l01071"></a>01071         CTOR X3DSoundNode(NodeType* nodeType) : X3DChildNode(nodeType)
<a name="l01072"></a>01072         {
<a name="l01073"></a>01073         }
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 <span class="keyword">public</span>:
<a name="l01076"></a>01076 
<a name="l01077"></a>01077         <span class="keyword">virtual</span> X3DSoundSourceNode* getSource();
<a name="l01078"></a>01078         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSource(X3DSoundSourceNode* source);
<a name="l01079"></a>01079 
<a name="l01080"></a>01080         <span class="keyword">virtual</span> <span class="keywordtype">void</span> SoundSourceUrlChanged() abstract;
<a name="l01081"></a>01081 
<a name="l01082"></a>01082 protected:
<a name="l01083"></a>01083 
<a name="l01084"></a>01084         virtual <span class="keywordtype">void</span> OnFieldChanged(X3DField* field) override;
<a name="l01085"></a>01085 
<a name="l01086"></a>01086         X3DSoundSourceNode* m_currentSource;
<a name="l01087"></a>01087         TypedSFNode&lt;X3DSoundSourceNode*&gt;* m_source;
<a name="l01088"></a>01088         IXAudio2SourceVoice* m_sourceVoice;
<a name="l01089"></a>01089 };
<a name="l01090"></a>01090 
<a name="l01091"></a>01091 class X3DEXT X3DSoundSourceNode : public X3DTimeDependentNode
<a name="l01092"></a>01092 {
<a name="l01093"></a>01093 <span class="keyword">protected</span>:
<a name="l01094"></a>01094         CTOR X3DSoundSourceNode(NodeType* nodeType) : X3DTimeDependentNode(nodeType)
<a name="l01095"></a>01095         {
<a name="l01096"></a>01096         }
<a name="l01097"></a>01097 
<a name="l01098"></a>01098 <span class="keyword">public</span>:
<a name="l01099"></a>01099 
<a name="l01100"></a>01100         <span class="keyword">virtual</span> <span class="keywordtype">void</span> AddSoundNode(X3DSoundNode* pSound) <span class="keyword">abstract</span>;
<a name="l01101"></a>01101         <span class="keyword">virtual</span> <span class="keywordtype">void</span> RemoveSoundNode(X3DSoundNode* pSound) <span class="keyword">abstract</span>;
<a name="l01102"></a>01102 };
<a name="l01103"></a>01103 
<a name="l01104"></a>01104 <span class="keyword">interface </span>IX3DAddField
<a name="l01105"></a>01105 {
<a name="l01106"></a>01106         <span class="keyword">virtual</span> <span class="keywordtype">void</span> AddField(X3DField* field) <span class="keyword">abstract</span>;
<a name="l01107"></a>01107 };
<a name="l01108"></a>01108 
<a name="l01109"></a>01109 <span class="keyword">class </span>X3DEXT X3DScriptNode : <span class="keyword">public</span> X3DChildNode, <span class="keyword">public</span> IX3DAddField
<a name="l01110"></a>01110 {
<a name="l01111"></a>01111 <span class="keyword">protected</span>:
<a name="l01112"></a>01112         CTOR X3DScriptNode(NodeType* nodeType) : X3DChildNode(nodeType)
<a name="l01113"></a>01113         {
<a name="l01114"></a>01114         }
<a name="l01115"></a>01115 };
<a name="l01116"></a>01116 
<a name="l01117"></a>01117 <span class="keyword">class </span>X3DEXT X3DGeometricPropertyNode : <span class="keyword">public</span> X3DNode
<a name="l01118"></a>01118 {
<a name="l01119"></a>01119 <span class="keyword">protected</span>:
<a name="l01120"></a>01120         CTOR X3DGeometricPropertyNode(NodeType* nodeType) : X3DNode(nodeType)
<a name="l01121"></a>01121         {
<a name="l01122"></a>01122         }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01125"></a>01125 };
<a name="l01126"></a>01126 
<a name="l01127"></a>01127 <span class="keyword">class </span>X3DEXT X3DVertexAttributeNode : <span class="keyword">public</span> X3DGeometricPropertyNode
<a name="l01128"></a>01128 {
<a name="l01129"></a>01129 <span class="keyword">protected</span>:
<a name="l01130"></a>01130         CTOR X3DVertexAttributeNode(NodeType* nodeType);
<a name="l01131"></a>01131 
<a name="l01132"></a>01132 <span class="keyword">public</span>:
<a name="l01133"></a>01133         String getName() throw()
<a name="l01134"></a>01134         {
<a name="l01135"></a>01135                 <span class="keywordflow">return</span> m_name-&gt;getValue();
<a name="l01136"></a>01136         }
<a name="l01137"></a>01137 
<a name="l01138"></a>01138         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01139"></a>01139 
<a name="l01140"></a>01140         uint32 m_offsetInBytes; <span class="comment">// Offset into buffer</span>
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 <span class="keyword">protected</span>:
<a name="l01143"></a>01143 
<a name="l01144"></a>01144 <span class="comment">/*</span>
<a name="l01145"></a>01145 <span class="comment">        SFNode   [in,out] metadata NULL [X3DMetadataObject]</span>
<a name="l01146"></a>01146 <span class="comment">        SFString []       name     &quot;&quot; </span>
<a name="l01147"></a>01147 <span class="comment">*/</span>
<a name="l01148"></a>01148         SFString* m_name;
<a name="l01149"></a>01149 };
<a name="l01150"></a>01150 
<a name="l01151"></a>01151 <span class="keyword">class </span>X3DEXT X3DNBodyCollidableNode : <span class="keyword">public</span> X3DChildNode, <span class="keyword">public</span> X3DBoundedObject
<a name="l01152"></a>01152 {
<a name="l01153"></a>01153 <span class="keyword">public</span>:
<a name="l01154"></a>01154 
<a name="l01155"></a>01155         CTOR X3DNBodyCollidableNode(NodeType* nodeType);
<a name="l01156"></a>01156 
<a name="l01157"></a>01157         SFBool* getEnabledField()
<a name="l01158"></a>01158         {
<a name="l01159"></a>01159                 <span class="keywordflow">return</span> m_enabled;
<a name="l01160"></a>01160         }
<a name="l01161"></a>01161 
<a name="l01162"></a>01162         Rotation getRotation()
<a name="l01163"></a>01163         {
<a name="l01164"></a>01164                 <span class="keywordflow">return</span> m_rotation-&gt;getValue();
<a name="l01165"></a>01165         }
<a name="l01166"></a>01166 
<a name="l01167"></a>01167         <span class="keywordtype">void</span> setRotation(Rotation v)
<a name="l01168"></a>01168         {
<a name="l01169"></a>01169                 m_rotation-&gt;setValue(v);
<a name="l01170"></a>01170         }
<a name="l01171"></a>01171 
<a name="l01172"></a>01172         SFRotation* getRotationField()
<a name="l01173"></a>01173         {
<a name="l01174"></a>01174                 <span class="keywordflow">return</span> m_rotation;
<a name="l01175"></a>01175         }
<a name="l01176"></a>01176 
<a name="l01177"></a>01177         SFVec3f* getTranslationField()
<a name="l01178"></a>01178         {
<a name="l01179"></a>01179                 <span class="keywordflow">return</span> m_translation;
<a name="l01180"></a>01180         }
<a name="l01181"></a>01181 
<a name="l01182"></a>01182         Vec3f getTranslation()
<a name="l01183"></a>01183         {
<a name="l01184"></a>01184                 <span class="keywordflow">return</span> m_translation-&gt;getValue();
<a name="l01185"></a>01185         }
<a name="l01186"></a>01186 
<a name="l01187"></a>01187         <span class="keywordtype">void</span> setTranslation(Vec3f v)
<a name="l01188"></a>01188         {
<a name="l01189"></a>01189                 m_translation-&gt;setValue(v);
<a name="l01190"></a>01190         }
<a name="l01191"></a>01191 
<a name="l01192"></a>01192         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01193"></a>01193 
<a name="l01194"></a>01194 <span class="keyword">protected</span>:
<a name="l01195"></a>01195 
<a name="l01196"></a>01196         SFBool* m_enabled;
<a name="l01197"></a>01197         SFRotation* m_rotation;
<a name="l01198"></a>01198         SFVec3f* m_translation;
<a name="l01199"></a>01199 
<a name="l01200"></a>01200         <span class="comment">/*</span>
<a name="l01201"></a>01201 <span class="comment">        SFBool     [in,out] enabled     TRUE</span>
<a name="l01202"></a>01202 <span class="comment">        SFNode     [in,out] metadata    NULL     [X3DMetadataObject]</span>
<a name="l01203"></a>01203 <span class="comment">        SFRotation [in,out] rotation    0 0 1 0  [0,1]</span>
<a name="l01204"></a>01204 <span class="comment">        SFVec3f    [in,out] translation 0 0 0    (-?,?)</span>
<a name="l01205"></a>01205 <span class="comment">        SFVec3f    []       bboxCenter  0 0 0    (-?,?)</span>
<a name="l01206"></a>01206 <span class="comment">        SFVec3f    []       bboxSize    -1 -1 -1 [0,?) or -1 -1 -1</span>
<a name="l01207"></a>01207 <span class="comment">        */</span>
<a name="l01208"></a>01208 };
<a name="l01209"></a>01209 
<a name="l01210"></a>01210 <span class="keyword">interface </span>X3DFogObject
<a name="l01211"></a>01211 {
<a name="l01212"></a>01212         <span class="keyword">virtual</span> Vec3f getColor() abstract;
<a name="l01213"></a>01213         virtual <span class="keywordtype">void</span> setColor(Vec3f value) abstract;
<a name="l01214"></a>01214         virtual SFColor* getColorField() abstract;
<a name="l01215"></a>01215 
<a name="l01216"></a>01216         virtual String getFogType() abstract;
<a name="l01217"></a>01217         virtual <span class="keywordtype">void</span> setFogType(StringIn value) abstract;
<a name="l01218"></a>01218         virtual SFString* getFogTypeField() abstract;
<a name="l01219"></a>01219 
<a name="l01220"></a>01220         virtual <span class="keywordtype">float</span> getVisibilityRange() abstract;
<a name="l01221"></a>01221         virtual <span class="keywordtype">void</span> setVisibilityRange(<span class="keywordtype">float</span> visibilityRange) abstract;
<a name="l01222"></a>01222         virtual SFFloat* getVisibilityRangeField() abstract;
<a name="l01223"></a>01223 
<a name="l01224"></a>01224         <span class="comment">/*</span>
<a name="l01225"></a>01225 <span class="comment">  SFColor  [in,out] color           1 1 1    [0,1]</span>
<a name="l01226"></a>01226 <span class="comment">  SFString [in,out] fogType         &quot;LINEAR&quot; [&quot;LINEAR&quot;|&quot;EXPONENTIAL&quot;]</span>
<a name="l01227"></a>01227 <span class="comment">  SFFloat  [in,out] visibilityRange 0        [0,-?)</span>
<a name="l01228"></a>01228 <span class="comment">  */</span>
<a name="l01229"></a>01229 };
<a name="l01230"></a>01230 
<a name="l01231"></a>01231 }
<a name="l01232"></a>01232 }
<a name="l01233"></a>01233 
<a name="l01234"></a>01234 <span class="preprocessor">#include &quot;FloatVertexAttribute.h&quot;</span>
<a name="l01235"></a>01235 <span class="preprocessor"></span><span class="preprocessor">#include &quot;Matrix3VertexAttribute.h&quot;</span>
<a name="l01236"></a>01236 <span class="preprocessor">#include &quot;Matrix4VertexAttribute.h&quot;</span>
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 <span class="preprocessor">#include &quot;X3DComposedGeometryNode.h&quot;</span>
<a name="l01239"></a>01239 
<a name="l01240"></a>01240 <span class="keyword">namespace </span>System
<a name="l01241"></a>01241 {
<a name="l01242"></a>01242 <span class="keyword">namespace </span>x3d
<a name="l01243"></a>01243 {
<a name="l01244"></a>01244 
<a name="l01245"></a>01245 <span class="keyword">class </span>X3DEXT X3DParametricGeometryNode : <span class="keyword">public</span> X3DGeometryNode
<a name="l01246"></a>01246 {
<a name="l01247"></a>01247 <span class="keyword">protected</span>:
<a name="l01248"></a>01248         CTOR X3DParametricGeometryNode(NodeType* nodeType) : X3DGeometryNode(nodeType)
<a name="l01249"></a>01249         {
<a name="l01250"></a>01250         }
<a name="l01251"></a>01251 
<a name="l01252"></a>01252         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01253"></a>01253 };
<a name="l01254"></a>01254 
<a name="l01255"></a>01255 <span class="keyword">class </span>X3DEXT X3DNurbsSurfaceGeometryNode : <span class="keyword">public</span> X3DParametricGeometryNode
<a name="l01256"></a>01256 {
<a name="l01257"></a>01257 <span class="keyword">protected</span>:
<a name="l01258"></a>01258         CTOR X3DNurbsSurfaceGeometryNode(NodeType* nodeType) : X3DParametricGeometryNode(nodeType)
<a name="l01259"></a>01259         {
<a name="l01260"></a>01260         }
<a name="l01261"></a>01261 
<a name="l01262"></a>01262         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01263"></a>01263 };
<a name="l01264"></a>01264 
<a name="l01265"></a>01265 <span class="keyword">class </span>X3DEXT X3DCoordinateNode : <span class="keyword">public</span> X3DGeometricPropertyNode
<a name="l01266"></a>01266 {
<a name="l01267"></a>01267 <span class="keyword">protected</span>:
<a name="l01268"></a>01268         CTOR X3DCoordinateNode(NodeType* nodeType) : X3DGeometricPropertyNode(nodeType)
<a name="l01269"></a>01269         {
<a name="l01270"></a>01270         }
<a name="l01271"></a>01271 
<a name="l01272"></a>01272         <span class="keyword">static</span> NodeType* GetNodeType();
<a name="l01273"></a>01273 };
<a name="l01274"></a>01274 
<a name="l01275"></a>01275 <span class="keyword">class </span>X3DEXT X3DNormalNode : <span class="keyword">public</span> X3DGeometricPropertyNode
<a name="l01276"></a>01276 {
<a name="l01277"></a>01277 <span class="keyword">protected</span>:
<a name="l01278"></a>01278         CTOR X3DNormalNode(NodeType* nodeType) : X3DGeometricPropertyNode(nodeType)
<a name="l01279"></a>01279         {
<a name="l01280"></a>01280         }
<a name="l01281"></a>01281 };
<a name="l01282"></a>01282 
<a name="l01283"></a>01283 <span class="keyword">class </span>X3DEXT X3DTextureCoordinateNode : <span class="keyword">public</span> X3DGeometricPropertyNode
<a name="l01284"></a>01284 {
<a name="l01285"></a>01285 <span class="keyword">protected</span>:
<a name="l01286"></a>01286         CTOR X3DTextureCoordinateNode(NodeType* nodeType) : X3DGeometricPropertyNode(nodeType)
<a name="l01287"></a>01287         {
<a name="l01288"></a>01288         }
<a name="l01289"></a>01289 };
<a name="l01290"></a>01290 
<a name="l01291"></a>01291 }       <span class="comment">// x3d</span>
<a name="l01292"></a>01292 }       <span class="comment">// System</span>
<a name="l01293"></a>01293 
<a name="l01294"></a>01294 <span class="preprocessor">#include &quot;X3DColorNode.h&quot;</span>
<a name="l01295"></a>01295 <span class="preprocessor">#include &quot;X3DAppearanceNode.h&quot;</span>
<a name="l01296"></a>01296 <span class="preprocessor">#include &quot;X3DShapeNode.h&quot;</span>
<a name="l01297"></a>01297 
<a name="l01298"></a>01298 <span class="keyword">namespace </span>System
<a name="l01299"></a>01299 {
<a name="l01300"></a>01300 <span class="keyword">namespace </span>x3d
<a name="l01301"></a>01301 {
<a name="l01302"></a>01302 
<a name="l01303"></a>01303 <span class="keyword">class </span>X3DEXT MFURL : <span class="keyword">public</span> X3DArrayField
<a name="l01304"></a>01304 {
<a name="l01305"></a>01305 <span class="keyword">public</span>:
<a name="l01306"></a>01306         CTOR MFURL(X3DNode* ownerNode) : X3DArrayField(ownerNode)
<a name="l01307"></a>01307         {
<a name="l01308"></a>01308         }
<a name="l01309"></a>01309 
<a name="l01310"></a>01310         <span class="keyword">virtual</span> FieldType getFieldType() <span class="keyword">const</span> throw()
<a name="l01311"></a>01311         {
<a name="l01312"></a>01312                 <span class="keywordflow">return</span> fieldtype;
<a name="l01313"></a>01313         }
<a name="l01314"></a>01314 
<a name="l01315"></a>01315         <span class="keyword">virtual</span> IO::TextWriter&amp; WriteValuesToStream(IO::TextWriter&amp; stream)
<a name="l01316"></a>01316         {
<a name="l01317"></a>01317                 <span class="keywordflow">for</span> (uint i = 0; i &lt; m_items.size(); ++i)
<a name="l01318"></a>01318                 {
<a name="l01319"></a>01319                         <span class="keywordflow">if</span> (i &gt; 0) stream &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l01320"></a>01320                         stream &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; m_items[i].string &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;
<a name="l01321"></a>01321                 }
<a name="l01322"></a>01322                 <span class="keywordflow">return</span> stream;
<a name="l01323"></a>01323         }
<a name="l01324"></a>01324 
<a name="l01325"></a>01325         <span class="keyword">class </span>CURL
<a name="l01326"></a>01326         {
<a name="l01327"></a>01327         <span class="keyword">public</span>:
<a name="l01328"></a>01328                 <span class="keywordtype">long</span> od;
<a name="l01329"></a>01329                 String string;
<a name="l01330"></a>01330 
<a name="l01331"></a>01331                 CTOR CURL()
<a name="l01332"></a>01332                 {
<a name="l01333"></a>01333                 }
<a name="l01334"></a>01334 
<a name="l01335"></a>01335                 CTOR CURL(<span class="keyword">const</span> CURL&amp; other)
<a name="l01336"></a>01336                 {
<a name="l01337"></a>01337                         *<span class="keyword">this</span> = other;
<a name="l01338"></a>01338                 }
<a name="l01339"></a>01339 
<a name="l01340"></a>01340                 CURL&amp; operator = (<span class="keyword">const</span> CURL&amp; other)
<a name="l01341"></a>01341                 {
<a name="l01342"></a>01342                         od = other.od;
<a name="l01343"></a>01343                         <span class="keywordtype">string</span> = other.string;
<a name="l01344"></a>01344                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01345"></a>01345                 }
<a name="l01346"></a>01346         };
<a name="l01347"></a>01347 
<a name="l01348"></a>01348         <span class="keyword">virtual</span> <span class="keywordtype">void</span> CopyFrom(X3DField* pFrom)
<a name="l01349"></a>01349         {
<a name="l01350"></a>01350                 ASSERT(m_items.GetSize() == 0);
<a name="l01351"></a>01351 
<a name="l01352"></a>01352                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; static_cast&lt;MFURL*&gt;(pFrom)-&gt;m_items.GetSize(); i++)
<a name="l01353"></a>01353                 {
<a name="l01354"></a>01354                         CURL urlfrom = <span class="keyword">static_cast&lt;</span>MFURL*<span class="keyword">&gt;</span>(pFrom)-&gt;m_items[i];
<a name="l01355"></a>01355 
<a name="l01356"></a>01356                 <span class="comment">//      CURL url;</span>
<a name="l01357"></a>01357                 <span class="comment">//      url.od = urlfrom.od;</span>
<a name="l01358"></a>01358                 <span class="comment">//      url.string = urlfrom.string;</span>
<a name="l01359"></a>01359 
<a name="l01360"></a>01360                         m_items.Add(urlfrom);
<a name="l01361"></a>01361                 }
<a name="l01362"></a>01362         }
<a name="l01363"></a>01363 
<a name="l01364"></a>01364         <span class="keywordtype">void</span> append1Value(StringIn stringValue)
<a name="l01365"></a>01365         {
<a name="l01366"></a>01366                 CURL value;
<a name="l01367"></a>01367                 value.od = 0;
<a name="l01368"></a>01368                 value.string = stringValue;
<a name="l01369"></a>01369                 m_items.Add(value);
<a name="l01370"></a>01370         }
<a name="l01371"></a>01371 
<a name="l01372"></a>01372         <span class="keywordtype">void</span> append1Value(<span class="keywordtype">long</span> odValue, StringIn stringValue)
<a name="l01373"></a>01373         {
<a name="l01374"></a>01374                 <span class="comment">//if (value == NULL) return E_POINTER;  // Allow appending empty string??</span>
<a name="l01375"></a>01375                 CURL value;
<a name="l01376"></a>01376                 value.od = odValue;
<a name="l01377"></a>01377                 value.string = stringValue;
<a name="l01378"></a>01378                 m_items.Add(value);
<a name="l01379"></a>01379         }
<a name="l01380"></a>01380 
<a name="l01381"></a>01381         String get1Value(<span class="keywordtype">size_t</span> index)<span class="keyword"> const</span>
<a name="l01382"></a>01382 <span class="keyword">        </span>{
<a name="l01383"></a>01383                 <span class="keywordflow">return</span> m_items[index].string;
<a name="l01384"></a>01384         }
<a name="l01385"></a>01385 
<a name="l01386"></a>01386         <span class="keywordtype">void</span> clear()
<a name="l01387"></a>01387         {
<a name="l01388"></a>01388                 m_items.clear();
<a name="l01389"></a>01389         }
<a name="l01390"></a>01390 
<a name="l01391"></a>01391 <span class="comment">// X3DArrayField</span>
<a name="l01392"></a>01392         <span class="keywordtype">size_t</span> get_size() <span class="keyword">const</span> throw()
<a name="l01393"></a>01393         {
<a name="l01394"></a>01394                 <span class="keywordflow">return</span> m_items.GetSize();
<a name="l01395"></a>01395         }
<a name="l01396"></a>01396 
<a name="l01397"></a>01397         <span class="keyword">static</span> <span class="keyword">const</span> FieldType fieldtype = FieldType_MFURL;
<a name="l01398"></a>01398         <span class="keyword">typedef</span> vector&lt;CURL&gt; value_t;
<a name="l01399"></a>01399 
<a name="l01400"></a>01400 <span class="keyword">public</span>:
<a name="l01401"></a>01401 
<a name="l01402"></a>01402         vector&lt;CURL&gt; m_items;
<a name="l01403"></a>01403 };
<a name="l01404"></a>01404 
<a name="l01406"></a>01406 
<a name="l01407"></a>01407 <span class="keyword">class </span>SAIProtoDeclaration;
<a name="l01408"></a>01408 
<a name="l01409"></a>01409 <span class="keyword">class </span>X3DEXT X3DPrototypeInstance : <span class="keyword">public</span> X3DNode
<a name="l01410"></a>01410 {
<a name="l01411"></a>01411 <span class="keyword">public</span>:
<a name="l01412"></a>01412         CTOR X3DPrototypeInstance() : X3DNode(nodeType)
<a name="l01413"></a>01413         {
<a name="l01414"></a>01414                 m_protoDecl = NULL;
<a name="l01415"></a>01415         }
<a name="l01416"></a>01416 
<a name="l01417"></a>01417         <span class="keyword">virtual</span> X3DNode* GetNode()
<a name="l01418"></a>01418         {
<a name="l01419"></a>01419                 <span class="keywordflow">return</span> m_node;
<a name="l01420"></a>01420         }
<a name="l01421"></a>01421 
<a name="l01422"></a>01422         <span class="keywordtype">void</span> ReplaceISFieldsWithInstanceFields(X3DNode* pFrom, X3DNode* pNode);
<a name="l01423"></a>01423 
<a name="l01424"></a>01424         X3DNode* m_node;
<a name="l01425"></a>01425         SAIProtoDeclaration* m_protoDecl;       <span class="comment">// The proto declaration that instantiated us</span>
<a name="l01426"></a>01426 
<a name="l01427"></a>01427         <span class="keyword">static</span> NodeType* nodeType;
<a name="l01428"></a>01428 };
<a name="l01429"></a>01429 
<a name="l01430"></a>01430 }       <span class="comment">// x3d</span>
<a name="l01431"></a>01431 }
<a name="l01432"></a>01432 
<a name="l01433"></a>01433 <span class="keyword">namespace </span>System
<a name="l01434"></a>01434 {
<a name="l01435"></a>01435 <span class="keyword">namespace </span>x3d
<a name="l01436"></a>01436 {
<a name="l01437"></a>01437 
<a name="l01439"></a>01439 <span class="comment">// SAI</span>
<a name="l01440"></a>01440 
<a name="l01441"></a>01441         <span class="comment">/*</span>
<a name="l01442"></a>01442 <span class="comment">        // Clone node, and replace fields with IS with the real values</span>
<a name="l01443"></a>01443 <span class="comment">CloneProtoNode(ILX3DNode* node)</span>
<a name="l01444"></a>01444 <span class="comment">{</span>
<a name="l01445"></a>01445 <span class="comment">        for (int i = 0; i &lt; m_fields.GetSize(); i++)</span>
<a name="l01446"></a>01446 <span class="comment">        {</span>
<a name="l01447"></a>01447 <span class="comment">                if (CComQIPtr&lt;CFieldValue&gt;(m_fields[i])-&gt;m_is.Length())</span>
<a name="l01448"></a>01448 <span class="comment">                {</span>
<a name="l01449"></a>01449 <span class="comment">                        m_</span>
<a name="l01450"></a>01450 <span class="comment">                }</span>
<a name="l01451"></a>01451 <span class="comment">        }</span>
<a name="l01452"></a>01452 <span class="comment">}</span>
<a name="l01453"></a>01453 <span class="comment">*/</span>
<a name="l01454"></a>01454 
<a name="l01455"></a>01455 <span class="comment">//X3DField* CreateFieldOfType(FieldType fieldType, X3DNode* ownerNode);</span>
<a name="l01456"></a>01456 
<a name="l01457"></a>01457 <span class="keyword">class </span>X3DEXT SAIProtoDeclaration : <span class="keyword">public</span> Object
<a name="l01458"></a>01458 {
<a name="l01459"></a>01459 <span class="keyword">public</span>:
<a name="l01460"></a>01460         CTOR SAIProtoDeclaration()
<a name="l01461"></a>01461         {
<a name="l01462"></a>01462         }
<a name="l01463"></a>01463 
<a name="l01464"></a>01464         ~SAIProtoDeclaration()
<a name="l01465"></a>01465         {
<a name="l01466"></a>01466                 <span class="comment">/*</span>
<a name="l01467"></a>01467 <span class="comment">                for (int i = 0; i &lt; m_fields.GetSize(); i++)</span>
<a name="l01468"></a>01468 <span class="comment">                {</span>
<a name="l01469"></a>01469 <span class="comment">                        delete m_fields[i];</span>
<a name="l01470"></a>01470 <span class="comment">                }</span>
<a name="l01471"></a>01471 <span class="comment">                */</span>
<a name="l01472"></a>01472                 m_fields.RemoveAll();
<a name="l01473"></a>01473         }
<a name="l01474"></a>01474 
<a name="l01475"></a>01475         X3DPrototypeInstance* createInstance();
<a name="l01476"></a>01476 
<a name="l01477"></a>01477 <span class="keyword">public</span>:
<a name="l01478"></a>01478 
<a name="l01479"></a>01479         String m_name;
<a name="l01480"></a>01480 
<a name="l01481"></a>01481         vector&lt;X3DField*&gt; m_fields;
<a name="l01482"></a>01482         vector&lt;X3DNode*&gt; m_nodes;
<a name="l01483"></a>01483 };
<a name="l01484"></a>01484 
<a name="l01485"></a>01485 <span class="comment">/*</span>
<a name="l01486"></a>01486 <span class="comment"></span>
<a name="l01487"></a>01487 <span class="comment">interface IRouteDestination</span>
<a name="l01488"></a>01488 <span class="comment">{</span>
<a name="l01489"></a>01489 <span class="comment">        virtual void Set() = 0;</span>
<a name="l01490"></a>01490 <span class="comment">};</span>
<a name="l01491"></a>01491 <span class="comment"></span>
<a name="l01492"></a>01492 <span class="comment">class X3DEXT RouteDestination : public Object, public IRouteDestination</span>
<a name="l01493"></a>01493 <span class="comment">{</span>
<a name="l01494"></a>01494 <span class="comment">public:</span>
<a name="l01495"></a>01495 <span class="comment"></span>
<a name="l01496"></a>01496 <span class="comment">        CTOR RouteDestination(X3DNode* node, X3DField* field) :</span>
<a name="l01497"></a>01497 <span class="comment">                m_node(node),</span>
<a name="l01498"></a>01498 <span class="comment">                m_field(field)</span>
<a name="l01499"></a>01499 <span class="comment">        {</span>
<a name="l01500"></a>01500 <span class="comment">        }</span>
<a name="l01501"></a>01501 <span class="comment"></span>
<a name="l01502"></a>01502 <span class="comment">        CTOR RouteDestination(X3DNode* node, StringIn fieldName) :</span>
<a name="l01503"></a>01503 <span class="comment">                m_node(node)</span>
<a name="l01504"></a>01504 <span class="comment">        {</span>
<a name="l01505"></a>01505 <span class="comment">                m_field = node-&gt;getField(fieldName);</span>
<a name="l01506"></a>01506 <span class="comment">        }</span>
<a name="l01507"></a>01507 <span class="comment"></span>
<a name="l01508"></a>01508 <span class="comment">        virtual void Set() override;</span>
<a name="l01509"></a>01509 <span class="comment"></span>
<a name="l01510"></a>01510 <span class="comment">        X3DField* m_field;</span>
<a name="l01511"></a>01511 <span class="comment">};</span>
<a name="l01512"></a>01512 <span class="comment"></span>
<a name="l01513"></a>01513 <span class="comment">interface IRoute</span>
<a name="l01514"></a>01514 <span class="comment">{</span>
<a name="l01515"></a>01515 <span class="comment">};</span>
<a name="l01516"></a>01516 <span class="comment">*/</span>
<a name="l01517"></a>01517 
<a name="l01518"></a>01518 <span class="keyword">class </span>X3DEXT FieldBinding : <span class="keyword">public</span> Object, <span class="keyword">public</span> Gui::IBinding
<a name="l01519"></a>01519 {
<a name="l01520"></a>01520 <span class="keyword">public</span>:
<a name="l01521"></a>01521 
<a name="l01522"></a>01522         CTOR FieldBinding(X3DField* field) : m_field(field)
<a name="l01523"></a>01523         {
<a name="l01524"></a>01524         }
<a name="l01525"></a>01525 
<a name="l01526"></a>01526         <span class="keyword">virtual</span> Type* GetOutputType();
<a name="l01527"></a>01527 
<a name="l01528"></a>01528         <span class="keyword">virtual</span> Object* GetOutput(Gui::IBinding* caller)
<a name="l01529"></a>01529         {
<a name="l01530"></a>01530                 ASSERT(0);
<a name="l01531"></a>01531                 <span class="keywordflow">return</span> NULL;
<a name="l01532"></a>01532         }
<a name="l01533"></a>01533 
<a name="l01534"></a>01534         <span class="keyword">virtual</span> <span class="keywordtype">int</span> SetOutput(Gui::IBinding* caller, Object* value)
<a name="l01535"></a>01535         {
<a name="l01536"></a>01536                 ASSERT(0);
<a name="l01537"></a>01537                 <span class="keywordflow">return</span> 0;
<a name="l01538"></a>01538         }
<a name="l01539"></a>01539 
<a name="l01540"></a>01540         <span class="keyword">virtual</span> <span class="keywordtype">int</span> SetInput(Gui::IBinding* caller, Object* value);
<a name="l01541"></a>01541 
<a name="l01542"></a>01542 <span class="comment">//      virtual Object* GetIn() = 0;</span>
<a name="l01543"></a>01543 
<a name="l01544"></a>01544         <span class="keyword">virtual</span> <span class="keywordtype">void</span>* Connect(Gui::IInputBinding* binding)
<a name="l01545"></a>01545         {
<a name="l01546"></a>01546                 <span class="keywordflow">return</span> m_outBindings.insert(m_outBindings.end(), binding).m_ptr;
<a name="l01547"></a>01547         }
<a name="l01548"></a>01548 
<a name="l01549"></a>01549         X3DField* m_field;
<a name="l01550"></a>01550         list&lt;Gui::IInputBinding*&gt; m_outBindings;
<a name="l01551"></a>01551 };
<a name="l01552"></a>01552 
<a name="l01553"></a>01553 <span class="keyword">class </span>X3DEXT Route : <span class="keyword">public</span> Object<span class="comment">//, public IRoute</span>
<a name="l01554"></a>01554 {
<a name="l01555"></a>01555 <span class="keyword">public</span>:
<a name="l01556"></a>01556         CTOR Route(Gui::IBinding* source, X3DField* destination) :
<a name="l01557"></a>01557                 m_source(source),
<a name="l01558"></a>01558                 m_destination(destination)
<a name="l01559"></a>01559         {
<a name="l01560"></a>01560                 FieldBinding* destBinding = <span class="keyword">new</span> FieldBinding(destination);
<a name="l01561"></a>01561                 source-&gt;Connect(destBinding);
<a name="l01562"></a>01562         }
<a name="l01563"></a>01563 
<a name="l01564"></a>01564         <span class="comment">/*</span>
<a name="l01565"></a>01565 <span class="comment">        X3DNode* getSourceNode() throw()</span>
<a name="l01566"></a>01566 <span class="comment">        {</span>
<a name="l01567"></a>01567 <span class="comment">                return m_sourceNode;</span>
<a name="l01568"></a>01568 <span class="comment">        }</span>
<a name="l01569"></a>01569 <span class="comment"></span>
<a name="l01570"></a>01570 <span class="comment">        X3DField* getSourceField() throw()</span>
<a name="l01571"></a>01571 <span class="comment">        {</span>
<a name="l01572"></a>01572 <span class="comment">                return m_sourceField;</span>
<a name="l01573"></a>01573 <span class="comment">        }</span>
<a name="l01574"></a>01574 <span class="comment">        */</span>
<a name="l01575"></a>01575 
<a name="l01576"></a>01576         <span class="comment">/*</span>
<a name="l01577"></a>01577 <span class="comment">        X3DNode* getDestinationNode() throw()</span>
<a name="l01578"></a>01578 <span class="comment">        {</span>
<a name="l01579"></a>01579 <span class="comment">                return m_destinationNode;</span>
<a name="l01580"></a>01580 <span class="comment">        }</span>
<a name="l01581"></a>01581 <span class="comment"></span>
<a name="l01582"></a>01582 <span class="comment">        String getDestinationField() const throw()</span>
<a name="l01583"></a>01583 <span class="comment">        {</span>
<a name="l01584"></a>01584 <span class="comment">                return m_destinationField;</span>
<a name="l01585"></a>01585 <span class="comment">        }</span>
<a name="l01586"></a>01586 <span class="comment">        */</span>
<a name="l01587"></a>01587 
<a name="l01588"></a>01588         Gui::IBinding* m_source;
<a name="l01589"></a>01589 <span class="comment">//      X3DNode* m_sourceNode;</span>
<a name="l01590"></a>01590         X3DField* m_destination;
<a name="l01591"></a>01591 
<a name="l01592"></a>01592 <span class="comment">//      IRouteDestination* m_destination;</span>
<a name="l01593"></a>01593 };
<a name="l01594"></a>01594 
<a name="l01595"></a>01595 }       <span class="comment">// x3d</span>
<a name="l01596"></a>01596 }
<a name="l01597"></a>01597 
<a name="l01598"></a>01598 <span class="preprocessor">#include &quot;X3DLightNode.h&quot;</span>
<a name="l01599"></a>01599 <span class="preprocessor">#include &quot;X3DAppearanceChildNode.h&quot;</span>
<a name="l01600"></a>01600 
<a name="l01601"></a>01601 <span class="keyword">namespace </span>System
<a name="l01602"></a>01602 {
<a name="l01603"></a>01603 <span class="keyword">namespace </span>x3d
<a name="l01604"></a>01604 {
<a name="l01605"></a>01605 
<a name="l01606"></a>01606 <span class="keyword">class </span>X3DEXT X3DMaterialNode : <span class="keyword">public</span> X3DAppearanceChildNode
<a name="l01607"></a>01607 {
<a name="l01608"></a>01608 <span class="keyword">public</span>:
<a name="l01609"></a>01609 
<a name="l01610"></a>01610         <span class="keyword">virtual</span> <span class="keywordtype">int</span> ApplyMaterial(X3DDrawContext* pDC) = 0;
<a name="l01611"></a>01611 
<a name="l01612"></a>01612 <span class="comment">//      static NodeType* GetNodeType();</span>
<a name="l01613"></a>01613         X3DNODE_ABSTRACT(X3DMaterialNode, X3DAppearanceChildNode)
<a name="l01614"></a>01614 
<a name="l01615"></a>01615 protected:
<a name="l01616"></a>01616         CTOR X3DMaterialNode(NodeType* nodeType) : X3DAppearanceChildNode(nodeType)
<a name="l01617"></a>01617         {
<a name="l01618"></a>01618         }
<a name="l01619"></a>01619 };
<a name="l01620"></a>01620 
<a name="l01621"></a>01621 <span class="keyword">class </span>X3DEXT X3DTextureTransformNode : <span class="keyword">public</span> X3DAppearanceChildNode
<a name="l01622"></a>01622 {
<a name="l01623"></a>01623 <span class="keyword">protected</span>:
<a name="l01624"></a>01624         CTOR X3DTextureTransformNode(NodeType* nodeType) : X3DAppearanceChildNode(nodeType)
<a name="l01625"></a>01625         {
<a name="l01626"></a>01626         }
<a name="l01627"></a>01627 };
<a name="l01628"></a>01628 
<a name="l01629"></a>01629 <span class="keyword">class </span>X3DEXT X3DTextureTransform2DNode : <span class="keyword">public</span> X3DTextureTransformNode
<a name="l01630"></a>01630 {
<a name="l01631"></a>01631 <span class="keyword">protected</span>:
<a name="l01632"></a>01632         CTOR X3DTextureTransform2DNode(NodeType* nodeType) : X3DTextureTransformNode(nodeType)
<a name="l01633"></a>01633         {
<a name="l01634"></a>01634         }
<a name="l01635"></a>01635 };
<a name="l01636"></a>01636 
<a name="l01637"></a>01637 <span class="keyword">class </span>X3DEXT X3DTextureNode : <span class="keyword">public</span> X3DAppearanceChildNode
<a name="l01638"></a>01638 {
<a name="l01639"></a>01639 <span class="keyword">protected</span>:
<a name="l01640"></a>01640         CTOR X3DTextureNode(NodeType* nodeType) : X3DAppearanceChildNode(nodeType)
<a name="l01641"></a>01641         {
<a name="l01642"></a>01642         }
<a name="l01643"></a>01643 
<a name="l01644"></a>01644 <span class="keyword">public</span>:
<a name="l01645"></a>01645 
<a name="l01646"></a>01646 <span class="comment">//      static NodeType* GetNodeType();</span>
<a name="l01647"></a>01647         X3DNODE_ABSTRACT(X3DTextureNode, X3DAppearanceChildNode)
<a name="l01648"></a>01648 };
<a name="l01649"></a>01649 
<a name="l01650"></a>01650 <span class="keyword">class </span>X3DEXT X3DTexture2DNode : <span class="keyword">public</span> X3DTextureNode
<a name="l01651"></a>01651 {
<a name="l01652"></a>01652 <span class="keyword">protected</span>:
<a name="l01653"></a>01653         CTOR X3DTexture2DNode(NodeType* nodeType) : X3DTextureNode(nodeType)
<a name="l01654"></a>01654         {
<a name="l01655"></a>01655         }
<a name="l01656"></a>01656 
<a name="l01657"></a>01657 <span class="keyword">public</span>:
<a name="l01658"></a>01658 
<a name="l01659"></a>01659         X3DNODE_ABSTRACT(X3DTexture2DNode, X3DTextureNode)
<a name="l01660"></a>01660 
<a name="l01661"></a>01661 <span class="comment">//      static NodeType* GetNodeType();</span>
<a name="l01662"></a>01662 };
<a name="l01663"></a>01663 
<a name="l01664"></a>01664 <span class="keyword">class </span>X3DEXT X3DInterpolatorNode : <span class="keyword">public</span> X3DChildNode
<a name="l01665"></a>01665 {
<a name="l01666"></a>01666 <span class="keyword">public</span>:
<a name="l01667"></a>01667 
<a name="l01668"></a>01668         MFFloat* getKeyField() throw()
<a name="l01669"></a>01669         {
<a name="l01670"></a>01670                 <span class="keywordflow">return</span> m_key;
<a name="l01671"></a>01671         }
<a name="l01672"></a>01672 
<a name="l01673"></a>01673         <span class="comment">/*</span>
<a name="l01674"></a>01674 <span class="comment">        SFFloat* getSetFractionField() throw()</span>
<a name="l01675"></a>01675 <span class="comment">        {</span>
<a name="l01676"></a>01676 <span class="comment">                return m_setFraction;</span>
<a name="l01677"></a>01677 <span class="comment">        }</span>
<a name="l01678"></a>01678 <span class="comment">        */</span>
<a name="l01679"></a>01679 
<a name="l01680"></a>01680         X3DSFIELD(SFFloat, setFraction, SetFraction)
<a name="l01681"></a>01681 
<a name="l01682"></a>01682         virtual X3DArrayField* getKeyValueField() throw() abstract;
<a name="l01683"></a>01683         virtual X3DField* getValueChangedField() throw() abstract;
<a name="l01684"></a>01684 
<a name="l01685"></a>01685         X3DNODE_ABSTRACT(X3DInterpolatorNode, X3DChildNode)
<a name="l01686"></a>01686 <span class="comment">//      static NodeType* GetNodeType();</span>
<a name="l01687"></a>01687 
<a name="l01688"></a>01688         static TypedX3DFieldDefinition&lt;MFFloat&gt;* get_keyFieldDef();
<a name="l01689"></a>01689 <span class="comment">//      static TypedX3DFieldDefinition&lt;SFFloat&gt;* get_setFractionFieldDef();</span>
<a name="l01690"></a>01690 
<a name="l01691"></a>01691 protected:
<a name="l01692"></a>01692 
<a name="l01693"></a>01693         CTOR X3DInterpolatorNode(NodeType* nodeType);
<a name="l01694"></a>01694 
<a name="l01695"></a>01695         MFFloat* m_key;
<a name="l01696"></a>01696 <span class="comment">//      SFFloat* m_setFraction;</span>
<a name="l01697"></a>01697 };
<a name="l01698"></a>01698 
<a name="l01699"></a>01699 class X3DEXT X3DViewportNode : public X3DGroupingNode
<a name="l01700"></a>01700 {
<a name="l01701"></a>01701 <span class="keyword">protected</span>:
<a name="l01702"></a>01702 
<a name="l01703"></a>01703         CTOR X3DViewportNode(NodeType* nodeType) : X3DGroupingNode(nodeType)
<a name="l01704"></a>01704         {
<a name="l01705"></a>01705         }
<a name="l01706"></a>01706 
<a name="l01707"></a>01707 };
<a name="l01708"></a>01708 
<a name="l01709"></a>01709 <span class="keyword">class </span>X3DEXT X3DFontStyleNode : <span class="keyword">public</span> X3DNode
<a name="l01710"></a>01710 {
<a name="l01711"></a>01711 <span class="keyword">protected</span>:
<a name="l01712"></a>01712 
<a name="l01713"></a>01713         CTOR X3DFontStyleNode(NodeType* nodeType) : X3DNode(nodeType)
<a name="l01714"></a>01714         {
<a name="l01715"></a>01715         }
<a name="l01716"></a>01716 };
<a name="l01717"></a>01717 
<a name="l01718"></a>01718 }       <span class="comment">// x3d</span>
<a name="l01719"></a>01719 }       <span class="comment">// System</span>
<a name="l01720"></a>01720 
<a name="l01721"></a>01721 <span class="preprocessor">#include &quot;X3DLayerNode.h&quot;</span>
<a name="l01722"></a>01722 
<a name="l01723"></a>01723 <span class="comment">//#include &quot;LayerSet.h&quot;</span>
<a name="l01724"></a>01724 <span class="comment">//#include &quot;Layer.h&quot;</span>
<a name="l01725"></a>01725 
<a name="l01726"></a>01726 <span class="keyword">namespace </span>System
<a name="l01727"></a>01727 {
<a name="l01728"></a>01728 <span class="keyword">namespace </span>x3d
<a name="l01729"></a>01729 {
<a name="l01730"></a>01730 
<a name="l01731"></a>01731 <span class="keyword">class </span>X3DEXT ScreenGroup : <span class="keyword">public</span> X3DGroupingNode,
<a name="l01732"></a>01732         <span class="keyword">public</span> RenderImplImpl
<a name="l01733"></a>01733 {
<a name="l01734"></a>01734 <span class="keyword">public</span>:
<a name="l01735"></a>01735         CTOR ScreenGroup();
<a name="l01736"></a>01736 
<a name="l01737"></a>01737         <span class="keyword">virtual</span> <span class="keywordtype">void</span> Draw(X3DDrawContext* pDC) <span class="keyword">override</span>;
<a name="l01738"></a>01738 
<a name="l01739"></a>01739         X3DNODE(ScreenGroup, X3DGroupingNode)
<a name="l01740"></a>01740 };
<a name="l01741"></a>01741 
<a name="l01742"></a>01742 <span class="keyword">class </span>Valuator : <span class="keyword">public</span> X3DChildNode
<a name="l01743"></a>01743 {
<a name="l01744"></a>01744 <span class="keyword">public</span>:
<a name="l01745"></a>01745         CTOR Valuator() : X3DChildNode(&amp;nodeType)
<a name="l01746"></a>01746         {
<a name="l01747"></a>01747         }
<a name="l01748"></a>01748 
<a name="l01749"></a>01749         <span class="keyword">static</span> NodeType nodeType;
<a name="l01750"></a>01750 };
<a name="l01751"></a>01751 
<a name="l01752"></a>01752 <span class="keyword">class </span>Conditional : <span class="keyword">public</span> X3DChildNode
<a name="l01753"></a>01753 {
<a name="l01754"></a>01754 <span class="keyword">public</span>:
<a name="l01755"></a>01755         CTOR Conditional() : X3DChildNode(&amp;nodeType)
<a name="l01756"></a>01756         {
<a name="l01757"></a>01757         }
<a name="l01758"></a>01758 
<a name="l01759"></a>01759         <span class="keyword">static</span> NodeType nodeType;
<a name="l01760"></a>01760 
<a name="l01761"></a>01761 };
<a name="l01762"></a>01762 
<a name="l01763"></a>01763 <span class="comment">/*</span>
<a name="l01764"></a>01764 <span class="comment">    class ILHAnimHumanoid : public X3DChildNode</span>
<a name="l01765"></a>01765 <span class="comment">    {</span>
<a name="l01766"></a>01766 <span class="comment">    public:</span>
<a name="l01767"></a>01767 <span class="comment">    };</span>
<a name="l01768"></a>01768 <span class="comment"></span>
<a name="l01769"></a>01769 <span class="comment">    </span>
<a name="l01770"></a>01770 <span class="comment">    class ILHAnimJoint : public X3DGroupingNode</span>
<a name="l01771"></a>01771 <span class="comment">    {</span>
<a name="l01772"></a>01772 <span class="comment">    public:</span>
<a name="l01773"></a>01773 <span class="comment">    };</span>
<a name="l01774"></a>01774 <span class="comment">    </span>
<a name="l01775"></a>01775 <span class="comment">    </span>
<a name="l01776"></a>01776 <span class="comment">class ILHAnimSegment : public X3DGroupingNode</span>
<a name="l01777"></a>01777 <span class="comment">    {</span>
<a name="l01778"></a>01778 <span class="comment">    public:</span>
<a name="l01779"></a>01779 <span class="comment">    };</span>
<a name="l01780"></a>01780 <span class="comment">    </span>
<a name="l01781"></a>01781 <span class="comment"></span>
<a name="l01782"></a>01782 <span class="comment">    </span>
<a name="l01783"></a>01783 <span class="comment">class ILHAnimSite : public X3DGroupingNode</span>
<a name="l01784"></a>01784 <span class="comment">    {</span>
<a name="l01785"></a>01785 <span class="comment">    public:</span>
<a name="l01786"></a>01786 <span class="comment">    };</span>
<a name="l01787"></a>01787 <span class="comment">    </span>
<a name="l01788"></a>01788 <span class="comment"></span>
<a name="l01789"></a>01789 <span class="comment">    class ILParticles : public X3DChildNode</span>
<a name="l01790"></a>01790 <span class="comment">    {</span>
<a name="l01791"></a>01791 <span class="comment">    public:</span>
<a name="l01792"></a>01792 <span class="comment">    };</span>
<a name="l01793"></a>01793 <span class="comment">    </span>
<a name="l01794"></a>01794 <span class="comment">    class ILPlanarObstacle : public X3DChildNode</span>
<a name="l01795"></a>01795 <span class="comment">    {</span>
<a name="l01796"></a>01796 <span class="comment">    public:</span>
<a name="l01797"></a>01797 <span class="comment">    };</span>
<a name="l01798"></a>01798 <span class="comment">    </span>
<a name="l01799"></a>01799 <span class="comment">    class ILNurbsPatchSurface : public X3DNurbsSurfaceGeometryNode</span>
<a name="l01800"></a>01800 <span class="comment">    {</span>
<a name="l01801"></a>01801 <span class="comment">    public:</span>
<a name="l01802"></a>01802 <span class="comment">    };</span>
<a name="l01803"></a>01803 <span class="comment">    </span>
<a name="l01804"></a>01804 <span class="comment">*/</span>
<a name="l01805"></a>01805     
<a name="l01806"></a>01806 <span class="preprocessor">#if 0</span>
<a name="l01807"></a>01807 <span class="preprocessor"></span>    MIDL_INTERFACE(<span class="stringliteral">&quot;93F89EE0-39CF-42f8-95D6-23CD43BE01E8&quot;</span>)
<a name="l01808"></a>01808     ILX3DExecutionContext
<a name="l01809"></a>01809     {
<a name="l01810"></a>01810     <span class="keyword">public</span>:
<a name="l01811"></a>01811         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getSpecificationVersion( 
<a name="l01812"></a>01812             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01813"></a>01813         
<a name="l01814"></a>01814         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getEncoding( 
<a name="l01815"></a>01815             <span class="comment">/* [retval][out] */</span> SAIEncodingID *pVal) = 0;
<a name="l01816"></a>01816         
<a name="l01817"></a>01817         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getWorldURL( 
<a name="l01818"></a>01818             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01819"></a>01819         
<a name="l01820"></a>01820         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE createNode( 
<a name="l01821"></a>01821             <span class="comment">/* [in] */</span> sysstring name,
<a name="l01822"></a>01822             <span class="comment">/* [retval][out] */</span> X3DNode **pVal) = 0;
<a name="l01823"></a>01823         
<a name="l01824"></a>01824         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getProtoDeclaration( 
<a name="l01825"></a>01825             <span class="comment">/* [in] */</span> sysstring name,
<a name="l01826"></a>01826             <span class="comment">/* [retval][out] */</span> ILSAIProtoDeclaration **pVal) = 0;
<a name="l01827"></a>01827         
<a name="l01828"></a>01828         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getRootNodes( 
<a name="l01829"></a>01829             <span class="comment">/* [retval][out] */</span> MFNode **pVal) = 0;
<a name="l01830"></a>01830         
<a name="l01831"></a>01831         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE addRoute( 
<a name="l01832"></a>01832             <span class="comment">/* [in] */</span> X3DNode *sourceNode,
<a name="l01833"></a>01833             <span class="comment">/* [in] */</span> sysstring sourceField,
<a name="l01834"></a>01834             <span class="comment">/* [in] */</span> X3DNode *destinationNode,
<a name="l01835"></a>01835             <span class="comment">/* [in] */</span> sysstring destinationField) = 0;
<a name="l01836"></a>01836         
<a name="l01837"></a>01837     };
<a name="l01838"></a>01838     
<a name="l01839"></a>01839     MIDL_INTERFACE(<span class="stringliteral">&quot;AC1EA3D5-93A8-46fe-8BA8-070ED9F16006&quot;</span>)
<a name="l01840"></a>01840     ILX3DScene : public ILX3DExecutionContext
<a name="l01841"></a>01841     {
<a name="l01842"></a>01842     <span class="keyword">public</span>:
<a name="l01843"></a>01843         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode getDEFName( 
<a name="l01844"></a>01844             <span class="comment">/* [in] */</span> sysstring name,
<a name="l01845"></a>01845             <span class="comment">/* [retval][out] */</span> X3DNode **pVal) = 0;
<a name="l01846"></a>01846         
<a name="l01847"></a>01847     };
<a name="l01848"></a>01848 <span class="preprocessor">#endif</span>
<a name="l01849"></a>01849 <span class="preprocessor"></span>    
<a name="l01850"></a>01850 <span class="preprocessor">#if 0</span>
<a name="l01851"></a>01851 <span class="preprocessor"></span><span class="keyword">class    </span>ILSAINodeList
<a name="l01852"></a>01852     {
<a name="l01853"></a>01853     <span class="keyword">public</span>:
<a name="l01854"></a>01854         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][propget] */</span> ErrorCode get_length( 
<a name="l01855"></a>01855             <span class="comment">/* [retval][out] */</span> <span class="keywordtype">long</span> *pVal) = 0;
<a name="l01856"></a>01856         
<a name="l01857"></a>01857         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode item( 
<a name="l01858"></a>01858             <span class="comment">/* [in] */</span> <span class="keywordtype">long</span> index,
<a name="l01859"></a>01859             <span class="comment">/* [retval][out] */</span> ILSAINode **pVal) = 0;
<a name="l01860"></a>01860         
<a name="l01861"></a>01861     };
<a name="l01862"></a>01862 <span class="preprocessor">#endif</span>
<a name="l01863"></a>01863 <span class="preprocessor"></span>
<a name="l01864"></a>01864 <span class="preprocessor">#if 0    </span>
<a name="l01865"></a>01865 <span class="preprocessor"></span>    
<a name="l01866"></a>01866 <span class="keyword">class    </span>ILSAIPrototypeInstance
<a name="l01867"></a>01867     {
<a name="l01868"></a>01868     <span class="keyword">public</span>:
<a name="l01869"></a>01869     };
<a name="l01870"></a>01870     
<a name="l01871"></a>01871 
<a name="l01872"></a>01872     
<a name="l01873"></a>01873 <span class="keyword">class    </span>ILSAIProtoDeclaration
<a name="l01874"></a>01874     {
<a name="l01875"></a>01875     <span class="keyword">public</span>:
<a name="l01876"></a>01876         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE createInstance( 
<a name="l01877"></a>01877             <span class="comment">/* [retval][out] */</span> ILSAIPrototypeInstance **pVal) = 0;
<a name="l01878"></a>01878         
<a name="l01879"></a>01879     };
<a name="l01880"></a>01880     
<a name="l01881"></a>01881     
<a name="l01882"></a>01882     MIDL_INTERFACE(<span class="stringliteral">&quot;95C6DFE5-D3BB-4265-86F9-BA5E8D362097&quot;</span>)
<a name="l01883"></a>01883     ILSAIFieldDeclaration
<a name="l01884"></a>01884     {
<a name="l01885"></a>01885     <span class="keyword">public</span>:
<a name="l01886"></a>01886         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][propget] */</span> ErrorCode STDMETHODCALLTYPE get_fieldName( 
<a name="l01887"></a>01887             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01888"></a>01888         
<a name="l01889"></a>01889     };
<a name="l01890"></a>01890     
<a name="l01891"></a>01891     
<a name="l01892"></a>01892     MIDL_INTERFACE(<span class="stringliteral">&quot;01DD402E-E50F-4b41-BA96-91D399C0D374&quot;</span>)
<a name="l01893"></a>01893     ILSAIField
<a name="l01894"></a>01894     {
<a name="l01895"></a>01895     <span class="keyword">public</span>:
<a name="l01896"></a>01896         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getFieldType( 
<a name="l01897"></a>01897             <span class="comment">/* [retval][out] */</span> FieldType *pVal) = 0;
<a name="l01898"></a>01898         
<a name="l01899"></a>01899     };
<a name="l01900"></a>01900     
<a name="l01901"></a>01901    
<a name="l01902"></a>01902     MIDL_INTERFACE(<span class="stringliteral">&quot;C7569940-E47B-4851-B3E9-CF4D4BAD51FC&quot;</span>)
<a name="l01903"></a>01903     ILSAINodeType
<a name="l01904"></a>01904     {
<a name="l01905"></a>01905     <span class="keyword">public</span>:
<a name="l01906"></a>01906         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][propget] */</span> ErrorCode STDMETHODCALLTYPE get_name( 
<a name="l01907"></a>01907             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01908"></a>01908         
<a name="l01909"></a>01909         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getFieldDefinitions( 
<a name="l01910"></a>01910             <span class="comment">/* [retval][out] */</span> ILX3DFieldDefinitions **pVal) = 0;
<a name="l01911"></a>01911         
<a name="l01912"></a>01912     };
<a name="l01913"></a>01913     
<a name="l01914"></a>01914     MIDL_INTERFACE(<span class="stringliteral">&quot;827FB91A-014A-4b78-8F8A-00BFE124E07B&quot;</span>)
<a name="l01915"></a>01915     ILSAINode
<a name="l01916"></a>01916     {
<a name="l01917"></a>01917     <span class="keyword">public</span>:
<a name="l01918"></a>01918         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getTypeName( 
<a name="l01919"></a>01919             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01920"></a>01920         
<a name="l01921"></a>01921         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getType( 
<a name="l01922"></a>01922             <span class="comment">/* [retval][out] */</span> ILSAINodeType **pVal) = 0;
<a name="l01923"></a>01923         
<a name="l01924"></a>01924         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getField( 
<a name="l01925"></a>01925             <span class="comment">/* [in] */</span> sysstring fieldName,
<a name="l01926"></a>01926             <span class="comment">/* [retval][out] */</span> X3DField **pVal) = 0;
<a name="l01927"></a>01927         
<a name="l01928"></a>01928     };
<a name="l01929"></a>01929     
<a name="l01930"></a>01930     MIDL_INTERFACE(<span class="stringliteral">&quot;6CF45CDA-39C3-4aef-831D-E97160166D0A&quot;</span>)
<a name="l01931"></a>01931     ILSAIBrowser
<a name="l01932"></a>01932     {
<a name="l01933"></a>01933     <span class="keyword">public</span>:
<a name="l01934"></a>01934         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE getCurrentSpeed( 
<a name="l01935"></a>01935             <span class="comment">/* [retval][out] */</span> <span class="keywordtype">double</span> *pVal) = 0;
<a name="l01936"></a>01936         
<a name="l01937"></a>01937         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE createX3DFromStream(ISequentialByteStream *stream, ILX3DScene **pVal) = 0;
<a name="l01938"></a>01938         
<a name="l01939"></a>01939     };
<a name="l01940"></a>01940     
<a name="l01941"></a>01941     MIDL_INTERFACE(<span class="stringliteral">&quot;D26925E4-C56E-4091-84A5-9C48CBD3543E&quot;</span>)
<a name="l01942"></a>01942     ILX3DViewer
<a name="l01943"></a>01943     {
<a name="l01944"></a>01944     <span class="keyword">public</span>:
<a name="l01945"></a>01945         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][propget][id] */</span> ErrorCode STDMETHODCALLTYPE get_src( 
<a name="l01946"></a>01946             <span class="comment">/* [retval][out] */</span> sysstring *pVal) = 0;
<a name="l01947"></a>01947         
<a name="l01948"></a>01948         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][propput][id] */</span> ErrorCode STDMETHODCALLTYPE set_src( 
<a name="l01949"></a>01949             <span class="comment">/* [in] */</span> sysstring newVal) = 0;
<a name="l01950"></a>01950         
<a name="l01951"></a>01951         <span class="keyword">virtual</span> <span class="comment">/* [helpstring][id] */</span> ErrorCode STDMETHODCALLTYPE replaceWorld( 
<a name="l01952"></a>01952             <span class="comment">/* [in] */</span> ILX3DScene *scene) = 0;
<a name="l01953"></a>01953         
<a name="l01954"></a>01954     };
<a name="l01955"></a>01955     
<a name="l01956"></a>01956     
<a name="l01957"></a>01957     MIDL_INTERFACE(<span class="stringliteral">&quot;AEC55143-2374-4edd-B37A-7E3A99CA2D08&quot;</span>)
<a name="l01958"></a>01958     IVRMLLoader
<a name="l01959"></a>01959     {
<a name="l01960"></a>01960     <span class="keyword">public</span>:
<a name="l01961"></a>01961         <span class="keyword">virtual</span> <span class="comment">/* [helpstring] */</span> ErrorCode STDMETHODCALLTYPE Load( 
<a name="l01962"></a>01962             <span class="comment">/* [in] */</span> sysstring pathName,
<a name="l01963"></a>01963             <span class="comment">/* [retval][out] */</span> ILX3DScene **pVal) = 0;
<a name="l01964"></a>01964         
<a name="l01965"></a>01965     };
<a name="l01966"></a>01966 <span class="preprocessor">#endif</span>
<a name="l01967"></a>01967 <span class="preprocessor"></span>
<a name="l01968"></a>01968 <span class="keywordtype">void</span> DrawChildren(X3DDrawContext* pDC, MFNode* children);
<a name="l01969"></a>01969 <span class="keywordtype">void</span> DrawOverlayChildren(X3DDrawContext* pDC, MFNode* children);
<a name="l01970"></a>01970 <span class="keywordtype">void</span> DrawGlobalLightsChildren(X3DDrawContext* pDC, MFNode* children);
<a name="l01971"></a>01971 
<a name="l01972"></a>01972 <span class="keyword">struct </span>X3DMaterial
<a name="l01973"></a>01973 {
<a name="l01974"></a>01974         float4 diffuseColor;
<a name="l01975"></a>01975         float4 ambientColor;
<a name="l01976"></a>01976         float4 specularColor;
<a name="l01977"></a>01977         float4 emissiveColor;
<a name="l01978"></a>01978         <span class="keywordtype">float</span> power;
<a name="l01979"></a>01979 };
<a name="l01980"></a>01980 
<a name="l01981"></a>01981 <span class="keyword">struct </span>X3DLight
<a name="l01982"></a>01982 {
<a name="l01983"></a>01983         __declspec(align(16)) int type;
<a name="l01984"></a>01984         __declspec(align(16)) float4 diffuseColor;
<a name="l01985"></a>01985         __declspec(align(16)) float4 specularColor;
<a name="l01986"></a>01986         __declspec(align(16)) float4 ambientColor;
<a name="l01987"></a>01987         __declspec(align(16)) float3 position;
<a name="l01988"></a>01988         __declspec(align(16)) float3 direction;
<a name="l01989"></a>01989         <span class="keywordtype">float</span> range;
<a name="l01990"></a>01990         <span class="keywordtype">float</span> falloff;
<a name="l01991"></a>01991         <span class="keywordtype">float</span> attenuation0;
<a name="l01992"></a>01992         <span class="keywordtype">float</span> attenuation1;
<a name="l01993"></a>01993         <span class="keywordtype">float</span> attenuation2;
<a name="l01994"></a>01994         <span class="keywordtype">float</span> theta;
<a name="l01995"></a>01995         <span class="keywordtype">float</span> phi;
<a name="l01996"></a>01996         <span class="keywordtype">bool</span> on;
<a name="l01997"></a>01997 };
<a name="l01998"></a>01998 
<a name="l01999"></a>01999 class X3DEXT ComponentInfo : public Object
<a name="l02000"></a>02000 {
<a name="l02001"></a>02001 <span class="keyword">public</span>:
<a name="l02002"></a>02002         String getName()
<a name="l02003"></a>02003         {
<a name="l02004"></a>02004                 <span class="keywordflow">return</span> m_name;
<a name="l02005"></a>02005         }
<a name="l02006"></a>02006 
<a name="l02007"></a>02007         <span class="keywordtype">int</span> getLevel()
<a name="l02008"></a>02008         {
<a name="l02009"></a>02009                 <span class="keywordflow">return</span> m_level;
<a name="l02010"></a>02010         }
<a name="l02011"></a>02011 
<a name="l02012"></a>02012         String getTitle();
<a name="l02013"></a>02013         String getProviderURL();
<a name="l02014"></a>02014         String toX3DString();
<a name="l02015"></a>02015 
<a name="l02016"></a>02016         String m_name;
<a name="l02017"></a>02017         <span class="keywordtype">int</span> m_level;
<a name="l02018"></a>02018 };
<a name="l02019"></a>02019 
<a name="l02020"></a>02020 <span class="keyword">class </span>X3DEXT ProfileInfo : <span class="keyword">public</span> Object
<a name="l02021"></a>02021 {
<a name="l02022"></a>02022 <span class="keyword">protected</span>:
<a name="l02023"></a>02023 
<a name="l02024"></a>02024         CTOR ProfileInfo(StringIn name);
<a name="l02025"></a>02025 
<a name="l02026"></a>02026 <span class="keyword">public</span>:
<a name="l02027"></a>02027         String getName()
<a name="l02028"></a>02028         {
<a name="l02029"></a>02029                 <span class="keywordflow">return</span> m_name;
<a name="l02030"></a>02030         }
<a name="l02031"></a>02031         String getTitle()
<a name="l02032"></a>02032         {
<a name="l02033"></a>02033                 <span class="keywordflow">return</span> m_title;
<a name="l02034"></a>02034         }
<a name="l02035"></a>02035 <span class="comment">//      String toX3DString()</span>
<a name="l02036"></a>02036 
<a name="l02037"></a>02037         vector&lt;ComponentInfo*&gt;&amp; getComponents();
<a name="l02038"></a>02038 
<a name="l02039"></a>02039         String m_name;
<a name="l02040"></a>02040         String m_title;
<a name="l02041"></a>02041         vector&lt;ComponentInfo*&gt; m_components;
<a name="l02042"></a>02042 
<a name="l02043"></a>02043         <span class="comment">/*</span>
<a name="l02044"></a>02044 <span class="comment">        static ProfileInfo Interchange;</span>
<a name="l02045"></a>02045 <span class="comment">        static ProfileInfo Interactive;</span>
<a name="l02046"></a>02046 <span class="comment">        static ProfileInfo Immersive;</span>
<a name="l02047"></a>02047 <span class="comment">        */</span>
<a name="l02048"></a>02048 };
<a name="l02049"></a>02049 
<a name="l02050"></a>02050 <span class="keyword">class </span>X3DEXT ProfileDeclaration : <span class="keyword">public</span> Object
<a name="l02051"></a>02051 {
<a name="l02052"></a>02052 <span class="keyword">protected</span>:
<a name="l02053"></a>02053 
<a name="l02054"></a>02054         CTOR ProfileDeclaration(StringIn name);
<a name="l02055"></a>02055 
<a name="l02056"></a>02056 <span class="keyword">public</span>:
<a name="l02057"></a>02057         String getName()
<a name="l02058"></a>02058         {
<a name="l02059"></a>02059                 <span class="keywordflow">return</span> m_name;
<a name="l02060"></a>02060         }
<a name="l02061"></a>02061 
<a name="l02062"></a>02062         String m_name;
<a name="l02063"></a>02063 
<a name="l02064"></a>02064         <span class="keyword">static</span> ProfileDeclaration Interchange;
<a name="l02065"></a>02065         <span class="keyword">static</span> ProfileDeclaration Interactive;
<a name="l02066"></a>02066         <span class="keyword">static</span> ProfileDeclaration Immersive;
<a name="l02067"></a>02067 };
<a name="l02068"></a>02068 
<a name="l02069"></a>02069 <span class="keyword">class </span>X3DEXT X3DNodeSelection : <span class="keyword">public</span> Object
<a name="l02070"></a>02070 {
<a name="l02071"></a>02071 <span class="keyword">public</span>:
<a name="l02072"></a>02072 <span class="preprocessor">#ifndef __LERSTAD__</span>
<a name="l02073"></a>02073 <span class="preprocessor"></span>        std::map&lt;X3DNode*, bool&gt; m_items;
<a name="l02074"></a>02074 <span class="preprocessor">#else</span>
<a name="l02075"></a>02075 <span class="preprocessor"></span>        <span class="keywordtype">int</span> pad[2];
<a name="l02076"></a>02076 <span class="preprocessor">#endif</span>
<a name="l02077"></a>02077 <span class="preprocessor"></span>
<a name="l02078"></a>02078         Event1&lt;X3DNodeSelection*&gt; SelectionChanged;
<a name="l02079"></a>02079 };
<a name="l02080"></a>02080 
<a name="l02081"></a>02081 }       <span class="comment">// x3d</span>
<a name="l02082"></a>02082 }       <span class="comment">// System</span>
<a name="l02083"></a>02083 
<a name="l02084"></a>02084 <span class="preprocessor">#include &quot;X3DShaderNode.h&quot;</span>
<a name="l02085"></a>02085 <span class="preprocessor">#include &quot;X3DScene.h&quot;</span>
<a name="l02086"></a>02086 <span class="preprocessor">#include &quot;Coordinate.h&quot;</span>
<a name="l02087"></a>02087 <span class="preprocessor">#include &quot;Coordinate2D.h&quot;</span>
<a name="l02088"></a>02088 <span class="preprocessor">#include &quot;Normal.h&quot;</span>
<a name="l02089"></a>02089 <span class="preprocessor">#include &quot;Color.h&quot;</span>
<a name="l02090"></a>02090 <span class="preprocessor">#include &quot;TextureProperties.h&quot;</span>
<a name="l02091"></a>02091 <span class="preprocessor">#include &quot;TextureCoordinateGenerator.h&quot;</span>
<a name="l02092"></a>02092 <span class="preprocessor">#include &quot;TextureCoordinate.h&quot;</span>
<a name="l02093"></a>02093 <span class="preprocessor">#include &quot;MultiTextureCoordinate.h&quot;</span>
<a name="l02094"></a>02094 <span class="preprocessor">#include &quot;TextureTransform.h&quot;</span>
<a name="l02095"></a>02095 <span class="preprocessor">#include &quot;ProximitySensor.h&quot;</span>
<a name="l02096"></a>02096 <span class="preprocessor">#include &quot;TouchSensor.h&quot;</span>
<a name="l02097"></a>02097 <span class="preprocessor">#include &quot;TimeSensor.h&quot;</span>
<a name="l02098"></a>02098 
<a name="l02099"></a>02099 <span class="preprocessor">#include &quot;WorldInfo.h&quot;</span>
<a name="l02100"></a>02100 <span class="preprocessor">#include &quot;MetadataString.h&quot;</span>
<a name="l02101"></a>02101 
<a name="l02102"></a>02102 <span class="preprocessor">#include &quot;SceneView.h&quot;</span>
<a name="l02103"></a>02103 <span class="comment">//#include &quot;OGLSceneRenderer.h&quot; // TODO rename</span>
<a name="l02104"></a>02104 
<a name="l02105"></a>02105 <span class="preprocessor">#include &quot;SceneRenderFilter.h&quot;</span>  <span class="comment">// TODO remove</span>
<a name="l02106"></a>02106 
<a name="l02107"></a>02107 <span class="keyword">namespace </span>System
<a name="l02108"></a>02108 {
<a name="l02109"></a>02109 <span class="keyword">namespace </span>x3d
<a name="l02110"></a>02110 {
<a name="l02111"></a>02111 
<a name="l02112"></a>02112 <span class="keyword">class </span>X3DEXT LinePropertiesBIFS : 
<a name="l02113"></a>02113         <span class="keyword">public</span> X3DAppearanceChildNode
<a name="l02114"></a>02114 {
<a name="l02115"></a>02115 <span class="keyword">public</span>:
<a name="l02116"></a>02116         CTOR LinePropertiesBIFS();
<a name="l02117"></a>02117 
<a name="l02118"></a>02118         <span class="comment">/*</span>
<a name="l02119"></a>02119 <span class="comment">        virtual NodeType* getType() const</span>
<a name="l02120"></a>02120 <span class="comment">        {</span>
<a name="l02121"></a>02121 <span class="comment">                return s_nodeType;</span>
<a name="l02122"></a>02122 <span class="comment">        }</span>
<a name="l02123"></a>02123 <span class="comment">        */</span>
<a name="l02124"></a>02124 
<a name="l02125"></a>02125         <span class="keyword">static</span> NodeType s_nodeType;
<a name="l02126"></a>02126 
<a name="l02127"></a>02127         SFColor* m_lineColor;
<a name="l02128"></a>02128         SFInt32* m_lineStyle;
<a name="l02129"></a>02129         SFFloat* m_width;
<a name="l02130"></a>02130 };
<a name="l02131"></a>02131 
<a name="l02132"></a>02132 X3DEXT <span class="keywordtype">void</span> Translate(X3DChildNode* node, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z);
<a name="l02133"></a>02133 X3DEXT <span class="keywordtype">void</span> Scale(X3DChildNode* node, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z);
<a name="l02134"></a>02134 X3DEXT <span class="keywordtype">void</span> Rotate(X3DChildNode* node, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keywordtype">float</span> angle);
<a name="l02135"></a>02135 
<a name="l02136"></a>02136 <span class="keyword">interface </span>IBrowser
<a name="l02137"></a>02137 {
<a name="l02138"></a>02138         <span class="keyword">virtual</span> ProfileDeclaration* getProfile(StringIn profile) <span class="keyword">abstract</span>;
<a name="l02139"></a>02139         <span class="keyword">virtual</span> X3DScene* createScene(ProfileDeclaration* profile) <span class="keyword">abstract</span>;
<a name="l02140"></a>02140 <span class="comment">//      virtual X3DScene* importDocument(Web::Node* node) abstract;</span>
<a name="l02141"></a>02141         <span class="keyword">virtual</span> String getName() abstract;
<a name="l02142"></a>02142         virtual <span class="keywordtype">void</span> setDescription(StringIn description) abstract;
<a name="l02143"></a>02143 };
<a name="l02144"></a>02144 
<a name="l02145"></a>02145 interface X3DScriptImplementation
<a name="l02146"></a>02146 {
<a name="l02147"></a>02147         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setBrowser(IBrowser* browser) <span class="keyword">abstract</span>;
<a name="l02148"></a>02148         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setFields(X3DScriptNode* externalView, map&lt;String, X3DField*&gt;&amp; fields) <span class="keyword">abstract</span>;
<a name="l02149"></a>02149         <span class="keyword">virtual</span> <span class="keywordtype">void</span> initialize() abstract;
<a name="l02150"></a>02150         virtual <span class="keywordtype">void</span> shutdown() abstract;
<a name="l02151"></a>02151         virtual <span class="keywordtype">void</span> eventsProcessed() abstract;
<a name="l02152"></a>02152 };
<a name="l02153"></a>02153 
<a name="l02154"></a>02154 <span class="preprocessor">#if 0</span>
<a name="l02155"></a>02155 <span class="preprocessor"></span><span class="keyword">class </span>Browser : <span class="keyword">public</span> Object, <span class="keyword">public</span> IBrowser
<a name="l02156"></a>02156 {
<a name="l02157"></a>02157         <span class="keyword">virtual</span> X3DScene* createScene(ProfileDeclaration* profile) <span class="keyword">abstract</span>;
<a name="l02158"></a>02158 <span class="comment">//      virtual X3DScene* importDocument(Web::Node* node) abstract;</span>
<a name="l02159"></a>02159         <span class="keyword">virtual</span> String getName() abstract;
<a name="l02160"></a>02160         virtual <span class="keywordtype">void</span> setDescription(StringIn description) abstract;
<a name="l02161"></a>02161 };
<a name="l02162"></a>02162 <span class="preprocessor">#endif</span>
<a name="l02163"></a>02163 <span class="preprocessor"></span>
<a name="l02164"></a>02164 X3DEXT <span class="keywordtype">void</span> ReloadEffect();
<a name="l02165"></a>02165 
<a name="l02166"></a>02166 X3DEXT SceneVisual3D* View(X3DScene* scene);
<a name="l02167"></a>02167 X3DEXT Gui::TreeView* TreeOf(X3DScene* scene);
<a name="l02168"></a>02168 X3DEXT TextDocument* asvrml(X3DScene* scene);
<a name="l02169"></a>02169 X3DEXT Object* asxml(X3DScene* scene);
<a name="l02170"></a>02170 
<a name="l02171"></a>02171 X3DEXT <span class="keywordtype">void</span> Show(Gui::TreeView* view);
<a name="l02172"></a>02172 
<a name="l02173"></a>02173 X3DEXT <span class="keywordtype">void</span> DrawAxis(X3DDrawContext* pDC);
<a name="l02174"></a>02174 
<a name="l02175"></a>02175 X3DEXT Vec3f VecProject(Vec3f obj, <span class="keyword">const</span> D3D10_VIEWPORT&amp; vp, <span class="keyword">const</span> D3DXMATRIX&amp; proj, <span class="keyword">const</span> D3DXMATRIX&amp; view, <span class="keyword">const</span> D3DXMATRIX&amp; model);
<a name="l02176"></a>02176 
<a name="l02177"></a>02177 <span class="comment">// for ecmascript binding</span>
<a name="l02178"></a>02178 <span class="keyword">class </span>X3DEXT X3DConstants
<a name="l02179"></a>02179 {
<a name="l02180"></a>02180 <span class="keyword">public</span>:
<a name="l02181"></a>02181 
<a name="l02182"></a>02182         <span class="keyword">static</span> <span class="keyword">const</span> FieldType SFBool = FieldType_SFBool;
<a name="l02183"></a>02183         <span class="keyword">static</span> <span class="keyword">const</span> FieldType MFBool = FieldType_MFBool;
<a name="l02184"></a>02184         <span class="keyword">static</span> <span class="keyword">const</span> FieldType SFInt32 = FieldType_SFInt32;
<a name="l02185"></a>02185         <span class="keyword">static</span> <span class="keyword">const</span> FieldType MFInt32 = FieldType_MFInt32;
<a name="l02186"></a>02186         <span class="keyword">static</span> <span class="keyword">const</span> FieldType SFFloat = FieldType_SFFloat;
<a name="l02187"></a>02187         <span class="keyword">static</span> <span class="keyword">const</span> FieldType MFFloat = FieldType_MFFloat;
<a name="l02188"></a>02188 <span class="comment">//...</span>
<a name="l02189"></a>02189 
<a name="l02190"></a>02190 <span class="keyword">private</span>:
<a name="l02191"></a>02191         CTOR X3DConstants();
<a name="l02192"></a>02192 };
<a name="l02193"></a>02193 
<a name="l02194"></a>02194 }       <span class="comment">// x3d</span>
<a name="l02195"></a>02195 }       <span class="comment">// System</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 17 2011 00:57:19 for FirstProject2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
